{
  "version": 3,
  "sources": ["../../react/cjs/react-jsx-runtime.development.js", "../../react/jsx-runtime.js", "../../react-chessboard/dist/index.esm.js"],
  "sourcesContent": ["/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\nvar React = require('react');\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nvar didWarnAboutKeySpread = {};\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    {\n      if (hasOwnProperty.call(props, 'key')) {\n        var componentName = getComponentNameFromType(type);\n        var keys = Object.keys(props).filter(function (k) {\n          return k !== 'key';\n        });\n        var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n        if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n          var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n          error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n          didWarnAboutKeySpread[componentName + beforeExample] = true;\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n", "import React, { createContext, memo, useEffect, useLayoutEffect, useState, useCallback, useMemo, isValidElement, cloneElement, useContext, forwardRef, useRef, useImperativeHandle, Fragment as Fragment$1 } from 'react';\nimport { jsx, jsxs, Fragment } from 'react/jsx-runtime';\n\n/**\n * Create the React Context\n */\n\nconst DndContext = /*#__PURE__*/createContext({\n  dragDropManager: undefined\n});\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\n\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n} // Inlined version of the `symbol-observable` polyfill\n\n\nvar $$observable = function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}();\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\n\n\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\n\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n} // Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\n\n\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\n\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\nfunction invariant(condition, format, ...args) {\n  if (isProduction()) {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    let error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      let argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1 // we don't care about invariant's own frame\n    ;\n    throw error;\n  }\n}\n\nfunction isProduction() {\n  return typeof process !== 'undefined' && process.env['NODE_ENV'] === 'production';\n}\n\n// cheap lodash replacements\n\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */\nfunction get(obj, path, defaultValue) {\n  return path.split('.').reduce((a, c) => a && a[c] ? a[c] : defaultValue || null, obj);\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without$1(items, item) {\n  return items.filter(i => i !== item);\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */\n\nfunction isObject(input) {\n  return typeof input === 'object';\n}\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */\n\nfunction xor(itemsA, itemsB) {\n  const map = new Map();\n\n  const insertItem = item => {\n    map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n  };\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  const result = [];\n  map.forEach((count, key) => {\n    if (count === 1) {\n      result.push(key);\n    }\n  });\n  return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */\n\nfunction intersection(itemsA, itemsB) {\n  return itemsA.filter(t => itemsB.indexOf(t) > -1);\n}\n\nconst INIT_COORDS = 'dnd-core/INIT_COORDS';\nconst BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nconst PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nconst HOVER = 'dnd-core/HOVER';\nconst DROP = 'dnd-core/DROP';\nconst END_DRAG = 'dnd-core/END_DRAG';\n\nfunction setClientOffset(clientOffset, sourceClientOffset) {\n  return {\n    type: INIT_COORDS,\n    payload: {\n      sourceClientOffset: sourceClientOffset || null,\n      clientOffset: clientOffset || null\n    }\n  };\n}\n\nconst ResetCoordinatesAction = {\n  type: INIT_COORDS,\n  payload: {\n    clientOffset: null,\n    sourceClientOffset: null\n  }\n};\nfunction createBeginDrag(manager) {\n  return function beginDrag(sourceIds = [], options = {\n    publishSource: true\n  }) {\n    const {\n      publishSource = true,\n      clientOffset,\n      getSourceClientOffset\n    } = options;\n    const monitor = manager.getMonitor();\n    const registry = manager.getRegistry(); // Initialize the coordinates using the client offset\n\n    manager.dispatch(setClientOffset(clientOffset));\n    verifyInvariants$1(sourceIds, monitor, registry); // Get the draggable source\n\n    const sourceId = getDraggableSource(sourceIds, monitor);\n\n    if (sourceId == null) {\n      manager.dispatch(ResetCoordinatesAction);\n      return;\n    } // Get the source client offset\n\n\n    let sourceClientOffset = null;\n\n    if (clientOffset) {\n      if (!getSourceClientOffset) {\n        throw new Error('getSourceClientOffset must be defined');\n      }\n\n      verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n      sourceClientOffset = getSourceClientOffset(sourceId);\n    } // Initialize the full coordinates\n\n\n    manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n    const source = registry.getSource(sourceId);\n    const item = source.beginDrag(monitor, sourceId); // If source.beginDrag returns null, this is an indicator to cancel the drag\n\n    if (item == null) {\n      return undefined;\n    }\n\n    verifyItemIsObject(item);\n    registry.pinSource(sourceId);\n    const itemType = registry.getSourceType(sourceId);\n    return {\n      type: BEGIN_DRAG,\n      payload: {\n        itemType,\n        item,\n        sourceId,\n        clientOffset: clientOffset || null,\n        sourceClientOffset: sourceClientOffset || null,\n        isSourcePublic: !!publishSource\n      }\n    };\n  };\n}\n\nfunction verifyInvariants$1(sourceIds, monitor, registry) {\n  invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n  sourceIds.forEach(function (sourceId) {\n    invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n  });\n}\n\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n  invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\n\nfunction verifyItemIsObject(item) {\n  invariant(isObject(item), 'Item must be an object.');\n}\n\nfunction getDraggableSource(sourceIds, monitor) {\n  let sourceId = null;\n\n  for (let i = sourceIds.length - 1; i >= 0; i--) {\n    if (monitor.canDragSource(sourceIds[i])) {\n      sourceId = sourceIds[i];\n      break;\n    }\n  }\n\n  return sourceId;\n}\n\nfunction _defineProperty$4(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread$4(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$4(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\nfunction createDrop(manager) {\n  return function drop(options = {}) {\n    const monitor = manager.getMonitor();\n    const registry = manager.getRegistry();\n    verifyInvariants(monitor);\n    const targetIds = getDroppableTargets(monitor); // Multiple actions are dispatched here, which is why this doesn't return an action\n\n    targetIds.forEach((targetId, index) => {\n      const dropResult = determineDropResult(targetId, index, registry, monitor);\n      const action = {\n        type: DROP,\n        payload: {\n          dropResult: _objectSpread$4({}, options, dropResult)\n        }\n      };\n      manager.dispatch(action);\n    });\n  };\n}\n\nfunction verifyInvariants(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\n\nfunction determineDropResult(targetId, index, registry, monitor) {\n  const target = registry.getTarget(targetId);\n  let dropResult = target ? target.drop(monitor, targetId) : undefined;\n  verifyDropResultType(dropResult);\n\n  if (typeof dropResult === 'undefined') {\n    dropResult = index === 0 ? {} : monitor.getDropResult();\n  }\n\n  return dropResult;\n}\n\nfunction verifyDropResultType(dropResult) {\n  invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\n\nfunction getDroppableTargets(monitor) {\n  const targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n  targetIds.reverse();\n  return targetIds;\n}\n\nfunction createEndDrag(manager) {\n  return function endDrag() {\n    const monitor = manager.getMonitor();\n    const registry = manager.getRegistry();\n    verifyIsDragging(monitor);\n    const sourceId = monitor.getSourceId();\n\n    if (sourceId != null) {\n      const source = registry.getSource(sourceId, true);\n      source.endDrag(monitor, sourceId);\n      registry.unpinSource();\n    }\n\n    return {\n      type: END_DRAG\n    };\n  };\n}\n\nfunction verifyIsDragging(monitor) {\n  invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}\n\nfunction matchesType(targetType, draggedItemType) {\n  if (draggedItemType === null) {\n    return targetType === null;\n  }\n\n  return Array.isArray(targetType) ? targetType.some(t => t === draggedItemType) : targetType === draggedItemType;\n}\n\nfunction createHover(manager) {\n  return function hover(targetIdsArg, {\n    clientOffset\n  } = {}) {\n    verifyTargetIdsIsArray(targetIdsArg);\n    const targetIds = targetIdsArg.slice(0);\n    const monitor = manager.getMonitor();\n    const registry = manager.getRegistry();\n    const draggedItemType = monitor.getItemType();\n    removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n    checkInvariants(targetIds, monitor, registry);\n    hoverAllTargets(targetIds, monitor, registry);\n    return {\n      type: HOVER,\n      payload: {\n        targetIds,\n        clientOffset: clientOffset || null\n      }\n    };\n  };\n}\n\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n  invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\n\nfunction checkInvariants(targetIds, monitor, registry) {\n  invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n  invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n  for (let i = 0; i < targetIds.length; i++) {\n    const targetId = targetIds[i];\n    invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n    const target = registry.getTarget(targetId);\n    invariant(target, 'Expected targetIds to be registered.');\n  }\n}\n\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n  // Remove those targetIds that don't match the targetType.  This\n  // fixes shallow isOver which would only be non-shallow because of\n  // non-matching targets.\n  for (let i = targetIds.length - 1; i >= 0; i--) {\n    const targetId = targetIds[i];\n    const targetType = registry.getTargetType(targetId);\n\n    if (!matchesType(targetType, draggedItemType)) {\n      targetIds.splice(i, 1);\n    }\n  }\n}\n\nfunction hoverAllTargets(targetIds, monitor, registry) {\n  // Finally call hover on all matching targets.\n  targetIds.forEach(function (targetId) {\n    const target = registry.getTarget(targetId);\n    target.hover(monitor, targetId);\n  });\n}\n\nfunction createPublishDragSource(manager) {\n  return function publishDragSource() {\n    const monitor = manager.getMonitor();\n\n    if (monitor.isDragging()) {\n      return {\n        type: PUBLISH_DRAG_SOURCE\n      };\n    }\n\n    return;\n  };\n}\n\nfunction createDragDropActions(manager) {\n  return {\n    beginDrag: createBeginDrag(manager),\n    publishDragSource: createPublishDragSource(manager),\n    hover: createHover(manager),\n    drop: createDrop(manager),\n    endDrag: createEndDrag(manager)\n  };\n}\n\nclass DragDropManagerImpl {\n  receiveBackend(backend) {\n    this.backend = backend;\n  }\n\n  getMonitor() {\n    return this.monitor;\n  }\n\n  getBackend() {\n    return this.backend;\n  }\n\n  getRegistry() {\n    return this.monitor.registry;\n  }\n\n  getActions() {\n    /* eslint-disable-next-line @typescript-eslint/no-this-alias */\n    const manager = this;\n    const {\n      dispatch\n    } = this.store;\n\n    function bindActionCreator(actionCreator) {\n      return (...args) => {\n        const action = actionCreator.apply(manager, args);\n\n        if (typeof action !== 'undefined') {\n          dispatch(action);\n        }\n      };\n    }\n\n    const actions = createDragDropActions(this);\n    return Object.keys(actions).reduce((boundActions, key) => {\n      const action = actions[key];\n      boundActions[key] = bindActionCreator(action);\n      return boundActions;\n    }, {});\n  }\n\n  dispatch(action) {\n    this.store.dispatch(action);\n  }\n\n  constructor(store, monitor) {\n    this.isSetUp = false;\n\n    this.handleRefCountChange = () => {\n      const shouldSetUp = this.store.getState().refCount > 0;\n\n      if (this.backend) {\n        if (shouldSetUp && !this.isSetUp) {\n          this.backend.setup();\n          this.isSetUp = true;\n        } else if (!shouldSetUp && this.isSetUp) {\n          this.backend.teardown();\n          this.isSetUp = false;\n        }\n      }\n    };\n\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n\n}\n\n/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */\nfunction add(a, b) {\n  return {\n    x: a.x + b.x,\n    y: a.y + b.y\n  };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */\n\nfunction subtract(a, b) {\n  return {\n    x: a.x - b.x,\n    y: a.y - b.y\n  };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */\n\nfunction getSourceClientOffset(state) {\n  const {\n    clientOffset,\n    initialClientOffset,\n    initialSourceClientOffset\n  } = state;\n\n  if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n    return null;\n  }\n\n  return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */\n\nfunction getDifferenceFromInitialOffset(state) {\n  const {\n    clientOffset,\n    initialClientOffset\n  } = state;\n\n  if (!clientOffset || !initialClientOffset) {\n    return null;\n  }\n\n  return subtract(clientOffset, initialClientOffset);\n}\n\nconst NONE = [];\nconst ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */\n\nfunction areDirty(dirtyIds, handlerIds) {\n  if (dirtyIds === NONE) {\n    return false;\n  }\n\n  if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n    return true;\n  }\n\n  const commonIds = intersection(handlerIds, dirtyIds);\n  return commonIds.length > 0;\n}\n\nclass DragDropMonitorImpl {\n  subscribeToStateChange(listener, options = {}) {\n    const {\n      handlerIds\n    } = options;\n    invariant(typeof listener === 'function', 'listener must be a function.');\n    invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n    let prevStateId = this.store.getState().stateId;\n\n    const handleChange = () => {\n      const state = this.store.getState();\n      const currentStateId = state.stateId;\n\n      try {\n        const canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n\n        if (!canSkipListener) {\n          listener();\n        }\n      } finally {\n        prevStateId = currentStateId;\n      }\n    };\n\n    return this.store.subscribe(handleChange);\n  }\n\n  subscribeToOffsetChange(listener) {\n    invariant(typeof listener === 'function', 'listener must be a function.');\n    let previousState = this.store.getState().dragOffset;\n\n    const handleChange = () => {\n      const nextState = this.store.getState().dragOffset;\n\n      if (nextState === previousState) {\n        return;\n      }\n\n      previousState = nextState;\n      listener();\n    };\n\n    return this.store.subscribe(handleChange);\n  }\n\n  canDragSource(sourceId) {\n    if (!sourceId) {\n      return false;\n    }\n\n    const source = this.registry.getSource(sourceId);\n    invariant(source, `Expected to find a valid source. sourceId=${sourceId}`);\n\n    if (this.isDragging()) {\n      return false;\n    }\n\n    return source.canDrag(this, sourceId);\n  }\n\n  canDropOnTarget(targetId) {\n    // undefined on initial render\n    if (!targetId) {\n      return false;\n    }\n\n    const target = this.registry.getTarget(targetId);\n    invariant(target, `Expected to find a valid target. targetId=${targetId}`);\n\n    if (!this.isDragging() || this.didDrop()) {\n      return false;\n    }\n\n    const targetType = this.registry.getTargetType(targetId);\n    const draggedItemType = this.getItemType();\n    return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n  }\n\n  isDragging() {\n    return Boolean(this.getItemType());\n  }\n\n  isDraggingSource(sourceId) {\n    // undefined on initial render\n    if (!sourceId) {\n      return false;\n    }\n\n    const source = this.registry.getSource(sourceId, true);\n    invariant(source, `Expected to find a valid source. sourceId=${sourceId}`);\n\n    if (!this.isDragging() || !this.isSourcePublic()) {\n      return false;\n    }\n\n    const sourceType = this.registry.getSourceType(sourceId);\n    const draggedItemType = this.getItemType();\n\n    if (sourceType !== draggedItemType) {\n      return false;\n    }\n\n    return source.isDragging(this, sourceId);\n  }\n\n  isOverTarget(targetId, options = {\n    shallow: false\n  }) {\n    // undefined on initial render\n    if (!targetId) {\n      return false;\n    }\n\n    const {\n      shallow\n    } = options;\n\n    if (!this.isDragging()) {\n      return false;\n    }\n\n    const targetType = this.registry.getTargetType(targetId);\n    const draggedItemType = this.getItemType();\n\n    if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n      return false;\n    }\n\n    const targetIds = this.getTargetIds();\n\n    if (!targetIds.length) {\n      return false;\n    }\n\n    const index = targetIds.indexOf(targetId);\n\n    if (shallow) {\n      return index === targetIds.length - 1;\n    } else {\n      return index > -1;\n    }\n  }\n\n  getItemType() {\n    return this.store.getState().dragOperation.itemType;\n  }\n\n  getItem() {\n    return this.store.getState().dragOperation.item;\n  }\n\n  getSourceId() {\n    return this.store.getState().dragOperation.sourceId;\n  }\n\n  getTargetIds() {\n    return this.store.getState().dragOperation.targetIds;\n  }\n\n  getDropResult() {\n    return this.store.getState().dragOperation.dropResult;\n  }\n\n  didDrop() {\n    return this.store.getState().dragOperation.didDrop;\n  }\n\n  isSourcePublic() {\n    return Boolean(this.store.getState().dragOperation.isSourcePublic);\n  }\n\n  getInitialClientOffset() {\n    return this.store.getState().dragOffset.initialClientOffset;\n  }\n\n  getInitialSourceClientOffset() {\n    return this.store.getState().dragOffset.initialSourceClientOffset;\n  }\n\n  getClientOffset() {\n    return this.store.getState().dragOffset.clientOffset;\n  }\n\n  getSourceClientOffset() {\n    return getSourceClientOffset(this.store.getState().dragOffset);\n  }\n\n  getDifferenceFromInitialOffset() {\n    return getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n  }\n\n  constructor(store, registry) {\n    this.store = store;\n    this.registry = registry;\n  }\n\n}\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nconst scope = typeof global !== 'undefined' ? global : self;\nconst BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\nfunction makeRequestCallFromTimer(callback) {\n  return function requestCall() {\n    // We dispatch a timeout with a specified delay of 0 for engines that\n    // can reliably accommodate that request. This will usually be snapped\n    // to a 4 milisecond delay, but once we're flushing, there's no delay\n    // between events.\n    const timeoutHandle = setTimeout(handleTimer, 0); // However, since this timer gets frequently dropped in Firefox\n    // workers, we enlist an interval handle that will try to fire\n    // an event 20 times per second until it succeeds.\n\n    const intervalHandle = setInterval(handleTimer, 50);\n\n    function handleTimer() {\n      // Whichever timer succeeds will cancel both timers and\n      // execute the callback.\n      clearTimeout(timeoutHandle);\n      clearInterval(intervalHandle);\n      callback();\n    }\n  };\n} // To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\n\nfunction makeRequestCallFromMutationObserver(callback) {\n  let toggle = 1;\n  const observer = new BrowserMutationObserver(callback);\n  const node = document.createTextNode('');\n  observer.observe(node, {\n    characterData: true\n  });\n  return function requestCall() {\n    toggle = -toggle;\n    node.data = toggle;\n  };\n}\nconst makeRequestCall = typeof BrowserMutationObserver === 'function' ? // reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nmakeRequestCallFromMutationObserver : // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\nmakeRequestCallFromTimer;\n\n/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */\nclass AsapQueue {\n  // Use the fastest means possible to execute a task in its own turn, with\n  // priority over other events including IO, animation, reflow, and redraw\n  // events in browsers.\n  //\n  // An exception thrown by a task will permanently interrupt the processing of\n  // subsequent tasks. The higher level `asap` function ensures that if an\n  // exception is thrown by a task, that the task queue will continue flushing as\n  // soon as possible, but if you use `rawAsap` directly, you are responsible to\n  // either ensure that no exceptions are thrown from your task, or to manually\n  // call `rawAsap.requestFlush` if an exception is thrown.\n  enqueueTask(task) {\n    const {\n      queue: q,\n      requestFlush\n    } = this;\n\n    if (!q.length) {\n      requestFlush();\n      this.flushing = true;\n    } // Equivalent to push, but avoids a function call.\n\n\n    q[q.length] = task;\n  }\n\n  constructor() {\n    this.queue = []; // We queue errors to ensure they are thrown in right order (FIFO).\n    // Array-as-queue is good enough here, since we are just dealing with exceptions.\n\n    this.pendingErrors = []; // Once a flush has been requested, no further calls to `requestFlush` are\n    // necessary until the next `flush` completes.\n    // @ts-ignore\n\n    this.flushing = false; // The position of the next task to execute in the task queue. This is\n    // preserved between calls to `flush` so that it can be resumed if\n    // a task throws an exception.\n\n    this.index = 0; // If a task schedules additional tasks recursively, the task queue can grow\n    // unbounded. To prevent memory exhaustion, the task queue will periodically\n    // truncate already-completed tasks.\n\n    this.capacity = 1024; // The flush function processes all tasks that have been scheduled with\n    // `rawAsap` unless and until one of those tasks throws an exception.\n    // If a task throws an exception, `flush` ensures that its state will remain\n    // consistent and will resume where it left off when called again.\n    // However, `flush` does not make any arrangements to be called again if an\n    // exception is thrown.\n\n    this.flush = () => {\n      const {\n        queue: q\n      } = this;\n\n      while (this.index < q.length) {\n        const currentIndex = this.index; // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n\n        this.index++;\n        q[currentIndex].call(); // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n\n        if (this.index > this.capacity) {\n          // Manually shift all values starting at the index back to the\n          // beginning of the queue.\n          for (let scan = 0, newLength = q.length - this.index; scan < newLength; scan++) {\n            q[scan] = q[scan + this.index];\n          }\n\n          q.length -= this.index;\n          this.index = 0;\n        }\n      }\n\n      q.length = 0;\n      this.index = 0;\n      this.flushing = false;\n    }; // In a web browser, exceptions are not fatal. However, to avoid\n    // slowing down the queue of pending tasks, we rethrow the error in a\n    // lower priority turn.\n\n\n    this.registerPendingError = err => {\n      this.pendingErrors.push(err);\n      this.requestErrorThrow();\n    }; // `requestFlush` requests that the high priority event queue be flushed as\n    // soon as possible.\n    // This is useful to prevent an error thrown in a task from stalling the event\n    // queue if the exception handled by Node.jss\n    // `process.on(\"uncaughtException\")` or by a domain.\n    // `requestFlush` is implemented using a strategy based on data collected from\n    // every available SauceLabs Selenium web driver worker at time of writing.\n    // https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n\n    this.requestFlush = makeRequestCall(this.flush);\n    this.requestErrorThrow = makeRequestCallFromTimer(() => {\n      // Throw first error\n      if (this.pendingErrors.length) {\n        throw this.pendingErrors.shift();\n      }\n    });\n  }\n\n} // The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// // its existence.\n// rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n// `call`, just like a function.\nclass RawTask {\n  call() {\n    try {\n      this.task && this.task();\n    } catch (error) {\n      this.onError(error);\n    } finally {\n      this.task = null;\n      this.release(this);\n    }\n  }\n\n  constructor(onError, release) {\n    this.onError = onError;\n    this.release = release;\n    this.task = null;\n  }\n\n}\n\nclass TaskFactory {\n  create(task) {\n    const tasks = this.freeTasks;\n    const t1 = tasks.length ? tasks.pop() : new RawTask(this.onError, t => tasks[tasks.length] = t);\n    t1.task = task;\n    return t1;\n  }\n\n  constructor(onError) {\n    this.onError = onError;\n    this.freeTasks = [];\n  }\n\n}\n\nconst asapQueue = new AsapQueue();\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError);\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\n\nfunction asap(task) {\n  asapQueue.enqueueTask(taskFactory.create(task));\n}\n\nconst ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nconst ADD_TARGET = 'dnd-core/ADD_TARGET';\nconst REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nconst REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nfunction addSource(sourceId) {\n  return {\n    type: ADD_SOURCE,\n    payload: {\n      sourceId\n    }\n  };\n}\nfunction addTarget(targetId) {\n  return {\n    type: ADD_TARGET,\n    payload: {\n      targetId\n    }\n  };\n}\nfunction removeSource(sourceId) {\n  return {\n    type: REMOVE_SOURCE,\n    payload: {\n      sourceId\n    }\n  };\n}\nfunction removeTarget(targetId) {\n  return {\n    type: REMOVE_TARGET,\n    payload: {\n      targetId\n    }\n  };\n}\n\nfunction validateSourceContract(source) {\n  invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n  invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n  invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nfunction validateTargetContract(target) {\n  invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n  invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n  invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nfunction validateType(type, allowArray) {\n  if (allowArray && Array.isArray(type)) {\n    type.forEach(t => validateType(t, false));\n    return;\n  }\n\n  invariant(typeof type === 'string' || typeof type === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}\n\nvar HandlerRole;\n\n(function (HandlerRole) {\n  HandlerRole[\"SOURCE\"] = \"SOURCE\";\n  HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));\n\nlet nextUniqueId = 0;\nfunction getNextUniqueId() {\n  return nextUniqueId++;\n}\n\nfunction getNextHandlerId(role) {\n  const id = getNextUniqueId().toString();\n\n  switch (role) {\n    case HandlerRole.SOURCE:\n      return `S${id}`;\n\n    case HandlerRole.TARGET:\n      return `T${id}`;\n\n    default:\n      throw new Error(`Unknown Handler Role: ${role}`);\n  }\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n  switch (handlerId[0]) {\n    case 'S':\n      return HandlerRole.SOURCE;\n\n    case 'T':\n      return HandlerRole.TARGET;\n\n    default:\n      throw new Error(`Cannot parse handler ID: ${handlerId}`);\n  }\n}\n\nfunction mapContainsValue(map, searchValue) {\n  const entries = map.entries();\n  let isDone = false;\n\n  do {\n    const {\n      done,\n      value: [, value]\n    } = entries.next();\n\n    if (value === searchValue) {\n      return true;\n    }\n\n    isDone = !!done;\n  } while (!isDone);\n\n  return false;\n}\n\nclass HandlerRegistryImpl {\n  addSource(type, source) {\n    validateType(type);\n    validateSourceContract(source);\n    const sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n    this.store.dispatch(addSource(sourceId));\n    return sourceId;\n  }\n\n  addTarget(type, target) {\n    validateType(type, true);\n    validateTargetContract(target);\n    const targetId = this.addHandler(HandlerRole.TARGET, type, target);\n    this.store.dispatch(addTarget(targetId));\n    return targetId;\n  }\n\n  containsHandler(handler) {\n    return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n  }\n\n  getSource(sourceId, includePinned = false) {\n    invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n    const isPinned = includePinned && sourceId === this.pinnedSourceId;\n    const source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n    return source;\n  }\n\n  getTarget(targetId) {\n    invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n    return this.dropTargets.get(targetId);\n  }\n\n  getSourceType(sourceId) {\n    invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n    return this.types.get(sourceId);\n  }\n\n  getTargetType(targetId) {\n    invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n    return this.types.get(targetId);\n  }\n\n  isSourceId(handlerId) {\n    const role = parseRoleFromHandlerId(handlerId);\n    return role === HandlerRole.SOURCE;\n  }\n\n  isTargetId(handlerId) {\n    const role = parseRoleFromHandlerId(handlerId);\n    return role === HandlerRole.TARGET;\n  }\n\n  removeSource(sourceId) {\n    invariant(this.getSource(sourceId), 'Expected an existing source.');\n    this.store.dispatch(removeSource(sourceId));\n    asap(() => {\n      this.dragSources.delete(sourceId);\n      this.types.delete(sourceId);\n    });\n  }\n\n  removeTarget(targetId) {\n    invariant(this.getTarget(targetId), 'Expected an existing target.');\n    this.store.dispatch(removeTarget(targetId));\n    this.dropTargets.delete(targetId);\n    this.types.delete(targetId);\n  }\n\n  pinSource(sourceId) {\n    const source = this.getSource(sourceId);\n    invariant(source, 'Expected an existing source.');\n    this.pinnedSourceId = sourceId;\n    this.pinnedSource = source;\n  }\n\n  unpinSource() {\n    invariant(this.pinnedSource, 'No source is pinned at the time.');\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n  }\n\n  addHandler(role, type, handler) {\n    const id = getNextHandlerId(role);\n    this.types.set(id, type);\n\n    if (role === HandlerRole.SOURCE) {\n      this.dragSources.set(id, handler);\n    } else if (role === HandlerRole.TARGET) {\n      this.dropTargets.set(id, handler);\n    }\n\n    return id;\n  }\n\n  constructor(store) {\n    this.types = new Map();\n    this.dragSources = new Map();\n    this.dropTargets = new Map();\n    this.pinnedSourceId = null;\n    this.pinnedSource = null;\n    this.store = store;\n  }\n\n}\n\nconst strictEquality = (a, b) => a === b;\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */\n\nfunction areCoordsEqual(offsetA, offsetB) {\n  if (!offsetA && !offsetB) {\n    return true;\n  } else if (!offsetA || !offsetB) {\n    return false;\n  } else {\n    return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n  }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */\n\nfunction areArraysEqual(a, b, isEqual = strictEquality) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; ++i) {\n    if (!isEqual(a[i], b[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction reduce$5( // eslint-disable-next-line @typescript-eslint/no-unused-vars\n_state = NONE, action) {\n  switch (action.type) {\n    case HOVER:\n      break;\n\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n\n  const {\n    targetIds = [],\n    prevTargetIds = []\n  } = action.payload;\n  const result = xor(targetIds, prevTargetIds);\n  const didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n\n  if (!didChange) {\n    return NONE;\n  } // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n\n\n  const prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  const innermostTargetId = targetIds[targetIds.length - 1];\n\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n\n  return result;\n}\n\nfunction _defineProperty$3(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread$3(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$3(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\nconst initialState$1 = {\n  initialSourceClientOffset: null,\n  initialClientOffset: null,\n  clientOffset: null\n};\nfunction reduce$4(state = initialState$1, action) {\n  const {\n    payload\n  } = action;\n\n  switch (action.type) {\n    case INIT_COORDS:\n    case BEGIN_DRAG:\n      return {\n        initialSourceClientOffset: payload.sourceClientOffset,\n        initialClientOffset: payload.clientOffset,\n        clientOffset: payload.clientOffset\n      };\n\n    case HOVER:\n      if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n        return state;\n      }\n\n      return _objectSpread$3({}, state, {\n        clientOffset: payload.clientOffset\n      });\n\n    case END_DRAG:\n    case DROP:\n      return initialState$1;\n\n    default:\n      return state;\n  }\n}\n\nfunction _defineProperty$2(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$2(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\nconst initialState = {\n  itemType: null,\n  item: null,\n  sourceId: null,\n  targetIds: [],\n  dropResult: null,\n  didDrop: false,\n  isSourcePublic: null\n};\nfunction reduce$3(state = initialState, action) {\n  const {\n    payload\n  } = action;\n\n  switch (action.type) {\n    case BEGIN_DRAG:\n      return _objectSpread$2({}, state, {\n        itemType: payload.itemType,\n        item: payload.item,\n        sourceId: payload.sourceId,\n        isSourcePublic: payload.isSourcePublic,\n        dropResult: null,\n        didDrop: false\n      });\n\n    case PUBLISH_DRAG_SOURCE:\n      return _objectSpread$2({}, state, {\n        isSourcePublic: true\n      });\n\n    case HOVER:\n      return _objectSpread$2({}, state, {\n        targetIds: payload.targetIds\n      });\n\n    case REMOVE_TARGET:\n      if (state.targetIds.indexOf(payload.targetId) === -1) {\n        return state;\n      }\n\n      return _objectSpread$2({}, state, {\n        targetIds: without$1(state.targetIds, payload.targetId)\n      });\n\n    case DROP:\n      return _objectSpread$2({}, state, {\n        dropResult: payload.dropResult,\n        didDrop: true,\n        targetIds: []\n      });\n\n    case END_DRAG:\n      return _objectSpread$2({}, state, {\n        itemType: null,\n        item: null,\n        sourceId: null,\n        dropResult: null,\n        didDrop: false,\n        isSourcePublic: null,\n        targetIds: []\n      });\n\n    default:\n      return state;\n  }\n}\n\nfunction reduce$2(state = 0, action) {\n  switch (action.type) {\n    case ADD_SOURCE:\n    case ADD_TARGET:\n      return state + 1;\n\n    case REMOVE_SOURCE:\n    case REMOVE_TARGET:\n      return state - 1;\n\n    default:\n      return state;\n  }\n}\n\nfunction reduce$1(state = 0) {\n  return state + 1;\n}\n\nfunction _defineProperty$1(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty$1(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\nfunction reduce(state = {}, action) {\n  return {\n    dirtyHandlerIds: reduce$5(state.dirtyHandlerIds, {\n      type: action.type,\n      payload: _objectSpread$1({}, action.payload, {\n        prevTargetIds: get(state, 'dragOperation.targetIds', [])\n      })\n    }),\n    dragOffset: reduce$4(state.dragOffset, action),\n    refCount: reduce$2(state.refCount, action),\n    dragOperation: reduce$3(state.dragOperation, action),\n    stateId: reduce$1(state.stateId)\n  };\n}\n\nfunction createDragDropManager(backendFactory, globalContext = undefined, backendOptions = {}, debugMode = false) {\n  const store = makeStoreInstance(debugMode);\n  const monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n  const manager = new DragDropManagerImpl(store, monitor);\n  const backend = backendFactory(manager, globalContext, backendOptions);\n  manager.receiveBackend(backend);\n  return manager;\n}\n\nfunction makeStoreInstance(debugMode) {\n  // TODO: if we ever make a react-native version of this,\n  // we'll need to consider how to pull off dev-tooling\n  const reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n  return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n    name: 'dnd-core',\n    instanceId: 'dnd-core'\n  }));\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\nlet refCount = 0;\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\nvar DndProvider = /*#__PURE__*/memo(function DndProvider(_param) {\n  var {\n    children\n  } = _param,\n      props = _objectWithoutProperties(_param, [\"children\"]);\n\n  const [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n  ;\n  /**\n  * If the global context was used to store the DND context\n  * then where theres no more references to it we should\n  * clean it up to avoid memory leaks\n  */\n\n  useEffect(() => {\n    if (isGlobalInstance) {\n      const context = getGlobalContext();\n      ++refCount;\n      return () => {\n        if (--refCount === 0) {\n          context[INSTANCE_SYM] = null;\n        }\n      };\n    }\n\n    return;\n  }, []);\n  return /*#__PURE__*/jsx(DndContext.Provider, {\n    value: manager,\n    children: children\n  });\n});\n\nfunction getDndContextValue(props) {\n  if ('manager' in props) {\n    const manager = {\n      dragDropManager: props.manager\n    };\n    return [manager, false];\n  }\n\n  const manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n  const isGlobalInstance = !props.context;\n  return [manager, isGlobalInstance];\n}\n\nfunction createSingletonDndContext(backend, context = getGlobalContext(), options, debugMode) {\n  const ctx = context;\n\n  if (!ctx[INSTANCE_SYM]) {\n    ctx[INSTANCE_SYM] = {\n      dragDropManager: createDragDropManager(backend, context, options, debugMode)\n    };\n  }\n\n  return ctx[INSTANCE_SYM];\n}\n\nfunction getGlobalContext() {\n  return typeof global !== 'undefined' ? global : window;\n}\n\nvar fastDeepEqual = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n    var length, i, keys;\n\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) if (!equal(a[i], b[i])) return false;\n\n      return true;\n    }\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;) if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  } // true if both NaN, false otherwise\n\n\n  return a !== a && b !== b;\n};\n\nconst useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\n\n/**\n *\n * @param monitor The monitor to collect state from\n * @param collect The collecting function\n * @param onUpdate A method to invoke when updates occur\n */\n\nfunction useCollector(monitor, collect, onUpdate) {\n  const [collected, setCollected] = useState(() => collect(monitor));\n  const updateCollected = useCallback(() => {\n    const nextValue = collect(monitor); // This needs to be a deep-equality check because some monitor-collected values\n    // include XYCoord objects that may be equivalent, but do not have instance equality.\n\n    if (!fastDeepEqual(collected, nextValue)) {\n      setCollected(nextValue);\n\n      if (onUpdate) {\n        onUpdate();\n      }\n    }\n  }, [collected, monitor, onUpdate]); // update the collected properties after react renders.\n  // Note that the \"Dustbin Stress Test\" fails if this is not\n  // done when the component updates\n\n  useIsomorphicLayoutEffect(updateCollected);\n  return [collected, updateCollected];\n}\n\nfunction useMonitorOutput(monitor, collect, onCollect) {\n  const [collected, updateCollected] = useCollector(monitor, collect, onCollect);\n  useIsomorphicLayoutEffect(function subscribeToMonitorStateChange() {\n    const handlerId = monitor.getHandlerId();\n\n    if (handlerId == null) {\n      return;\n    }\n\n    return monitor.subscribeToStateChange(updateCollected, {\n      handlerIds: [handlerId]\n    });\n  }, [monitor, updateCollected]);\n  return collected;\n}\n\nfunction useCollectedProps(collector, monitor, connector) {\n  return useMonitorOutput(monitor, collector || (() => ({})), () => connector.reconnect());\n}\n\nfunction useOptionalFactory(arg, deps) {\n  const memoDeps = [...(deps || [])];\n\n  if (deps == null && typeof arg !== 'function') {\n    memoDeps.push(arg);\n  }\n\n  return useMemo(() => {\n    return typeof arg === 'function' ? arg() : arg;\n  }, memoDeps);\n}\n\nfunction useConnectDragSource(connector) {\n  return useMemo(() => connector.hooks.dragSource(), [connector]);\n}\nfunction useConnectDragPreview(connector) {\n  return useMemo(() => connector.hooks.dragPreview(), [connector]);\n}\n\nlet isCallingCanDrag = false;\nlet isCallingIsDragging = false;\nclass DragSourceMonitorImpl {\n  receiveHandlerId(sourceId) {\n    this.sourceId = sourceId;\n  }\n\n  getHandlerId() {\n    return this.sourceId;\n  }\n\n  canDrag() {\n    invariant(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n    try {\n      isCallingCanDrag = true;\n      return this.internalMonitor.canDragSource(this.sourceId);\n    } finally {\n      isCallingCanDrag = false;\n    }\n  }\n\n  isDragging() {\n    if (!this.sourceId) {\n      return false;\n    }\n\n    invariant(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor');\n\n    try {\n      isCallingIsDragging = true;\n      return this.internalMonitor.isDraggingSource(this.sourceId);\n    } finally {\n      isCallingIsDragging = false;\n    }\n  }\n\n  subscribeToStateChange(listener, options) {\n    return this.internalMonitor.subscribeToStateChange(listener, options);\n  }\n\n  isDraggingSource(sourceId) {\n    return this.internalMonitor.isDraggingSource(sourceId);\n  }\n\n  isOverTarget(targetId, options) {\n    return this.internalMonitor.isOverTarget(targetId, options);\n  }\n\n  getTargetIds() {\n    return this.internalMonitor.getTargetIds();\n  }\n\n  isSourcePublic() {\n    return this.internalMonitor.isSourcePublic();\n  }\n\n  getSourceId() {\n    return this.internalMonitor.getSourceId();\n  }\n\n  subscribeToOffsetChange(listener) {\n    return this.internalMonitor.subscribeToOffsetChange(listener);\n  }\n\n  canDragSource(sourceId) {\n    return this.internalMonitor.canDragSource(sourceId);\n  }\n\n  canDropOnTarget(targetId) {\n    return this.internalMonitor.canDropOnTarget(targetId);\n  }\n\n  getItemType() {\n    return this.internalMonitor.getItemType();\n  }\n\n  getItem() {\n    return this.internalMonitor.getItem();\n  }\n\n  getDropResult() {\n    return this.internalMonitor.getDropResult();\n  }\n\n  didDrop() {\n    return this.internalMonitor.didDrop();\n  }\n\n  getInitialClientOffset() {\n    return this.internalMonitor.getInitialClientOffset();\n  }\n\n  getInitialSourceClientOffset() {\n    return this.internalMonitor.getInitialSourceClientOffset();\n  }\n\n  getSourceClientOffset() {\n    return this.internalMonitor.getSourceClientOffset();\n  }\n\n  getClientOffset() {\n    return this.internalMonitor.getClientOffset();\n  }\n\n  getDifferenceFromInitialOffset() {\n    return this.internalMonitor.getDifferenceFromInitialOffset();\n  }\n\n  constructor(manager) {\n    this.sourceId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n}\n\nlet isCallingCanDrop = false;\nclass DropTargetMonitorImpl {\n  receiveHandlerId(targetId) {\n    this.targetId = targetId;\n  }\n\n  getHandlerId() {\n    return this.targetId;\n  }\n\n  subscribeToStateChange(listener, options) {\n    return this.internalMonitor.subscribeToStateChange(listener, options);\n  }\n\n  canDrop() {\n    // Cut out early if the target id has not been set. This should prevent errors\n    // where the user has an older version of dnd-core like in\n    // https://github.com/react-dnd/react-dnd/issues/1310\n    if (!this.targetId) {\n      return false;\n    }\n\n    invariant(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor');\n\n    try {\n      isCallingCanDrop = true;\n      return this.internalMonitor.canDropOnTarget(this.targetId);\n    } finally {\n      isCallingCanDrop = false;\n    }\n  }\n\n  isOver(options) {\n    if (!this.targetId) {\n      return false;\n    }\n\n    return this.internalMonitor.isOverTarget(this.targetId, options);\n  }\n\n  getItemType() {\n    return this.internalMonitor.getItemType();\n  }\n\n  getItem() {\n    return this.internalMonitor.getItem();\n  }\n\n  getDropResult() {\n    return this.internalMonitor.getDropResult();\n  }\n\n  didDrop() {\n    return this.internalMonitor.didDrop();\n  }\n\n  getInitialClientOffset() {\n    return this.internalMonitor.getInitialClientOffset();\n  }\n\n  getInitialSourceClientOffset() {\n    return this.internalMonitor.getInitialSourceClientOffset();\n  }\n\n  getSourceClientOffset() {\n    return this.internalMonitor.getSourceClientOffset();\n  }\n\n  getClientOffset() {\n    return this.internalMonitor.getClientOffset();\n  }\n\n  getDifferenceFromInitialOffset() {\n    return this.internalMonitor.getDifferenceFromInitialOffset();\n  }\n\n  constructor(manager) {\n    this.targetId = null;\n    this.internalMonitor = manager.getMonitor();\n  }\n\n}\n\nfunction registerTarget(type, target, manager) {\n  const registry = manager.getRegistry();\n  const targetId = registry.addTarget(type, target);\n  return [targetId, () => registry.removeTarget(targetId)];\n}\nfunction registerSource(type, source, manager) {\n  const registry = manager.getRegistry();\n  const sourceId = registry.addSource(type, source);\n  return [sourceId, () => registry.removeSource(sourceId)];\n}\n\nfunction shallowEqual(objA, objB, compare, compareContext) {\n  let compareResult = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (compareResult !== void 0) {\n    return !!compareResult;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== 'object' || !objA || typeof objB !== 'object' || !objB) {\n    return false;\n  }\n\n  const keysA = Object.keys(objA);\n  const keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  const bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (let idx = 0; idx < keysA.length; idx++) {\n    const key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    const valueA = objA[key];\n    const valueB = objB[key];\n    compareResult = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (compareResult === false || compareResult === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction isRef(obj) {\n  return (// eslint-disable-next-line no-prototype-builtins\n    obj !== null && typeof obj === 'object' && Object.prototype.hasOwnProperty.call(obj, 'current')\n  );\n}\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.type === 'string') {\n    return;\n  }\n\n  const displayName = element.type.displayName || element.type.name || 'the component';\n  throw new Error('Only native element nodes can now be passed to React DnD connectors.' + `You can either wrap ${displayName} into a <div>, or turn it into a ` + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return (elementOrNode = null, options = null) => {\n    // When passed a node, call the hook straight away.\n    if (! /*#__PURE__*/isValidElement(elementOrNode)) {\n      const node = elementOrNode;\n      hook(node, options); // return the node so it can be chained (e.g. when within callback refs\n      // <div ref={node => connectDragSource(connectDropTarget(node))}/>\n\n      return node;\n    } // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n\n\n    const element = elementOrNode;\n    throwIfCompositeComponentElement(element); // When no options are passed, use the hook directly\n\n    const ref = options ? node => hook(node, options) : hook;\n    return cloneWithRef(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  const wrappedHooks = {};\n  Object.keys(hooks).forEach(key => {\n    const hook = hooks[key]; // ref objects should be passed straight through without wrapping\n\n    if (key.endsWith('Ref')) {\n      wrappedHooks[key] = hooks[key];\n    } else {\n      const wrappedHook = wrapHookToRecognizeElement(hook);\n\n      wrappedHooks[key] = () => wrappedHook;\n    }\n  });\n  return wrappedHooks;\n}\n\nfunction setRef(ref, node) {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else {\n    ref.current = node;\n  }\n}\n\nfunction cloneWithRef(element, newRef) {\n  const previousRef = element.ref;\n  invariant(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return /*#__PURE__*/cloneElement(element, {\n      ref: newRef\n    });\n  } else {\n    return /*#__PURE__*/cloneElement(element, {\n      ref: node => {\n        setRef(previousRef, node);\n        setRef(newRef, node);\n      }\n    });\n  }\n}\n\nclass SourceConnector {\n  receiveHandlerId(newHandlerId) {\n    if (this.handlerId === newHandlerId) {\n      return;\n    }\n\n    this.handlerId = newHandlerId;\n    this.reconnect();\n  }\n\n  get connectTarget() {\n    return this.dragSource;\n  }\n\n  get dragSourceOptions() {\n    return this.dragSourceOptionsInternal;\n  }\n\n  set dragSourceOptions(options) {\n    this.dragSourceOptionsInternal = options;\n  }\n\n  get dragPreviewOptions() {\n    return this.dragPreviewOptionsInternal;\n  }\n\n  set dragPreviewOptions(options) {\n    this.dragPreviewOptionsInternal = options;\n  }\n\n  reconnect() {\n    const didChange = this.reconnectDragSource();\n    this.reconnectDragPreview(didChange);\n  }\n\n  reconnectDragSource() {\n    const dragSource = this.dragSource; // if nothing has changed then don't resubscribe\n\n    const didChange = this.didHandlerIdChange() || this.didConnectedDragSourceChange() || this.didDragSourceOptionsChange();\n\n    if (didChange) {\n      this.disconnectDragSource();\n    }\n\n    if (!this.handlerId) {\n      return didChange;\n    }\n\n    if (!dragSource) {\n      this.lastConnectedDragSource = dragSource;\n      return didChange;\n    }\n\n    if (didChange) {\n      this.lastConnectedHandlerId = this.handlerId;\n      this.lastConnectedDragSource = dragSource;\n      this.lastConnectedDragSourceOptions = this.dragSourceOptions;\n      this.dragSourceUnsubscribe = this.backend.connectDragSource(this.handlerId, dragSource, this.dragSourceOptions);\n    }\n\n    return didChange;\n  }\n\n  reconnectDragPreview(forceDidChange = false) {\n    const dragPreview = this.dragPreview; // if nothing has changed then don't resubscribe\n\n    const didChange = forceDidChange || this.didHandlerIdChange() || this.didConnectedDragPreviewChange() || this.didDragPreviewOptionsChange();\n\n    if (didChange) {\n      this.disconnectDragPreview();\n    }\n\n    if (!this.handlerId) {\n      return;\n    }\n\n    if (!dragPreview) {\n      this.lastConnectedDragPreview = dragPreview;\n      return;\n    }\n\n    if (didChange) {\n      this.lastConnectedHandlerId = this.handlerId;\n      this.lastConnectedDragPreview = dragPreview;\n      this.lastConnectedDragPreviewOptions = this.dragPreviewOptions;\n      this.dragPreviewUnsubscribe = this.backend.connectDragPreview(this.handlerId, dragPreview, this.dragPreviewOptions);\n    }\n  }\n\n  didHandlerIdChange() {\n    return this.lastConnectedHandlerId !== this.handlerId;\n  }\n\n  didConnectedDragSourceChange() {\n    return this.lastConnectedDragSource !== this.dragSource;\n  }\n\n  didConnectedDragPreviewChange() {\n    return this.lastConnectedDragPreview !== this.dragPreview;\n  }\n\n  didDragSourceOptionsChange() {\n    return !shallowEqual(this.lastConnectedDragSourceOptions, this.dragSourceOptions);\n  }\n\n  didDragPreviewOptionsChange() {\n    return !shallowEqual(this.lastConnectedDragPreviewOptions, this.dragPreviewOptions);\n  }\n\n  disconnectDragSource() {\n    if (this.dragSourceUnsubscribe) {\n      this.dragSourceUnsubscribe();\n      this.dragSourceUnsubscribe = undefined;\n    }\n  }\n\n  disconnectDragPreview() {\n    if (this.dragPreviewUnsubscribe) {\n      this.dragPreviewUnsubscribe();\n      this.dragPreviewUnsubscribe = undefined;\n      this.dragPreviewNode = null;\n      this.dragPreviewRef = null;\n    }\n  }\n\n  get dragSource() {\n    return this.dragSourceNode || this.dragSourceRef && this.dragSourceRef.current;\n  }\n\n  get dragPreview() {\n    return this.dragPreviewNode || this.dragPreviewRef && this.dragPreviewRef.current;\n  }\n\n  clearDragSource() {\n    this.dragSourceNode = null;\n    this.dragSourceRef = null;\n  }\n\n  clearDragPreview() {\n    this.dragPreviewNode = null;\n    this.dragPreviewRef = null;\n  }\n\n  constructor(backend) {\n    this.hooks = wrapConnectorHooks({\n      dragSource: (node, options) => {\n        this.clearDragSource();\n        this.dragSourceOptions = options || null;\n\n        if (isRef(node)) {\n          this.dragSourceRef = node;\n        } else {\n          this.dragSourceNode = node;\n        }\n\n        this.reconnectDragSource();\n      },\n      dragPreview: (node, options) => {\n        this.clearDragPreview();\n        this.dragPreviewOptions = options || null;\n\n        if (isRef(node)) {\n          this.dragPreviewRef = node;\n        } else {\n          this.dragPreviewNode = node;\n        }\n\n        this.reconnectDragPreview();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dragSourceRef = null;\n    this.dragSourceOptionsInternal = null; // The drag preview may either be attached via ref or connect function\n\n    this.dragPreviewRef = null;\n    this.dragPreviewOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDragSource = null;\n    this.lastConnectedDragSourceOptions = null;\n    this.lastConnectedDragPreview = null;\n    this.lastConnectedDragPreviewOptions = null;\n    this.backend = backend;\n  }\n\n}\n\nclass TargetConnector {\n  get connectTarget() {\n    return this.dropTarget;\n  }\n\n  reconnect() {\n    // if nothing has changed then don't resubscribe\n    const didChange = this.didHandlerIdChange() || this.didDropTargetChange() || this.didOptionsChange();\n\n    if (didChange) {\n      this.disconnectDropTarget();\n    }\n\n    const dropTarget = this.dropTarget;\n\n    if (!this.handlerId) {\n      return;\n    }\n\n    if (!dropTarget) {\n      this.lastConnectedDropTarget = dropTarget;\n      return;\n    }\n\n    if (didChange) {\n      this.lastConnectedHandlerId = this.handlerId;\n      this.lastConnectedDropTarget = dropTarget;\n      this.lastConnectedDropTargetOptions = this.dropTargetOptions;\n      this.unsubscribeDropTarget = this.backend.connectDropTarget(this.handlerId, dropTarget, this.dropTargetOptions);\n    }\n  }\n\n  receiveHandlerId(newHandlerId) {\n    if (newHandlerId === this.handlerId) {\n      return;\n    }\n\n    this.handlerId = newHandlerId;\n    this.reconnect();\n  }\n\n  get dropTargetOptions() {\n    return this.dropTargetOptionsInternal;\n  }\n\n  set dropTargetOptions(options) {\n    this.dropTargetOptionsInternal = options;\n  }\n\n  didHandlerIdChange() {\n    return this.lastConnectedHandlerId !== this.handlerId;\n  }\n\n  didDropTargetChange() {\n    return this.lastConnectedDropTarget !== this.dropTarget;\n  }\n\n  didOptionsChange() {\n    return !shallowEqual(this.lastConnectedDropTargetOptions, this.dropTargetOptions);\n  }\n\n  disconnectDropTarget() {\n    if (this.unsubscribeDropTarget) {\n      this.unsubscribeDropTarget();\n      this.unsubscribeDropTarget = undefined;\n    }\n  }\n\n  get dropTarget() {\n    return this.dropTargetNode || this.dropTargetRef && this.dropTargetRef.current;\n  }\n\n  clearDropTarget() {\n    this.dropTargetRef = null;\n    this.dropTargetNode = null;\n  }\n\n  constructor(backend) {\n    this.hooks = wrapConnectorHooks({\n      dropTarget: (node, options) => {\n        this.clearDropTarget();\n        this.dropTargetOptions = options;\n\n        if (isRef(node)) {\n          this.dropTargetRef = node;\n        } else {\n          this.dropTargetNode = node;\n        }\n\n        this.reconnect();\n      }\n    });\n    this.handlerId = null; // The drop target may either be attached via ref or connect function\n\n    this.dropTargetRef = null;\n    this.dropTargetOptionsInternal = null;\n    this.lastConnectedHandlerId = null;\n    this.lastConnectedDropTarget = null;\n    this.lastConnectedDropTargetOptions = null;\n    this.backend = backend;\n  }\n\n}\n\n/**\n * A hook to retrieve the DragDropManager from Context\n */\n\nfunction useDragDropManager() {\n  const {\n    dragDropManager\n  } = useContext(DndContext);\n  invariant(dragDropManager != null, 'Expected drag drop context');\n  return dragDropManager;\n}\n\nfunction useDragSourceConnector(dragSourceOptions, dragPreviewOptions) {\n  const manager = useDragDropManager();\n  const connector = useMemo(() => new SourceConnector(manager.getBackend()), [manager]);\n  useIsomorphicLayoutEffect(() => {\n    connector.dragSourceOptions = dragSourceOptions || null;\n    connector.reconnect();\n    return () => connector.disconnectDragSource();\n  }, [connector, dragSourceOptions]);\n  useIsomorphicLayoutEffect(() => {\n    connector.dragPreviewOptions = dragPreviewOptions || null;\n    connector.reconnect();\n    return () => connector.disconnectDragPreview();\n  }, [connector, dragPreviewOptions]);\n  return connector;\n}\n\nfunction useDragSourceMonitor() {\n  const manager = useDragDropManager();\n  return useMemo(() => new DragSourceMonitorImpl(manager), [manager]);\n}\n\nclass DragSourceImpl {\n  beginDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    let result = null;\n\n    if (typeof spec.item === 'object') {\n      result = spec.item;\n    } else if (typeof spec.item === 'function') {\n      result = spec.item(monitor);\n    } else {\n      result = {};\n    }\n\n    return result !== null && result !== void 0 ? result : null;\n  }\n\n  canDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n\n    if (typeof spec.canDrag === 'boolean') {\n      return spec.canDrag;\n    } else if (typeof spec.canDrag === 'function') {\n      return spec.canDrag(monitor);\n    } else {\n      return true;\n    }\n  }\n\n  isDragging(globalMonitor, target) {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    const {\n      isDragging\n    } = spec;\n    return isDragging ? isDragging(monitor) : target === globalMonitor.getSourceId();\n  }\n\n  endDrag() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    const connector = this.connector;\n    const {\n      end\n    } = spec;\n\n    if (end) {\n      end(monitor.getItem(), monitor);\n    }\n\n    connector.reconnect();\n  }\n\n  constructor(spec, monitor, connector) {\n    this.spec = spec;\n    this.monitor = monitor;\n    this.connector = connector;\n  }\n\n}\n\nfunction useDragSource(spec, monitor, connector) {\n  const handler = useMemo(() => new DragSourceImpl(spec, monitor, connector), [monitor, connector]);\n  useEffect(() => {\n    handler.spec = spec;\n  }, [spec]);\n  return handler;\n}\n\nfunction useDragType(spec) {\n  return useMemo(() => {\n    const result = spec.type;\n    invariant(result != null, 'spec.type must be defined');\n    return result;\n  }, [spec]);\n}\n\nfunction useRegisteredDragSource(spec, monitor, connector) {\n  const manager = useDragDropManager();\n  const handler = useDragSource(spec, monitor, connector);\n  const itemType = useDragType(spec);\n  useIsomorphicLayoutEffect(function registerDragSource() {\n    if (itemType != null) {\n      const [handlerId, unregister] = registerSource(itemType, handler, manager);\n      monitor.receiveHandlerId(handlerId);\n      connector.receiveHandlerId(handlerId);\n      return unregister;\n    }\n\n    return;\n  }, [manager, monitor, connector, handler, itemType]);\n}\n\n/**\n * useDragSource hook\n * @param sourceSpec The drag source specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrag(specArg, deps) {\n  const spec = useOptionalFactory(specArg, deps);\n  invariant(!spec.begin, `useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)`);\n  const monitor = useDragSourceMonitor();\n  const connector = useDragSourceConnector(spec.options, spec.previewOptions);\n  useRegisteredDragSource(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDragSource(connector), useConnectDragPreview(connector)];\n}\n\n/**\n * useDragLayer Hook\n * @param collector The property collector\n */\n\nfunction useDragLayer(collect) {\n  const dragDropManager = useDragDropManager();\n  const monitor = dragDropManager.getMonitor();\n  const [collected, updateCollected] = useCollector(monitor, collect);\n  useEffect(() => monitor.subscribeToOffsetChange(updateCollected));\n  useEffect(() => monitor.subscribeToStateChange(updateCollected));\n  return collected;\n}\n\nfunction useConnectDropTarget(connector) {\n  return useMemo(() => connector.hooks.dropTarget(), [connector]);\n}\n\nfunction useDropTargetConnector(options) {\n  const manager = useDragDropManager();\n  const connector = useMemo(() => new TargetConnector(manager.getBackend()), [manager]);\n  useIsomorphicLayoutEffect(() => {\n    connector.dropTargetOptions = options || null;\n    connector.reconnect();\n    return () => connector.disconnectDropTarget();\n  }, [options]);\n  return connector;\n}\n\nfunction useDropTargetMonitor() {\n  const manager = useDragDropManager();\n  return useMemo(() => new DropTargetMonitorImpl(manager), [manager]);\n}\n\n/**\n * Internal utility hook to get an array-version of spec.accept.\n * The main utility here is that we aren't creating a new array on every render if a non-array spec.accept is passed in.\n * @param spec\n */\n\nfunction useAccept(spec) {\n  const {\n    accept\n  } = spec;\n  return useMemo(() => {\n    invariant(spec.accept != null, 'accept must be defined');\n    return Array.isArray(accept) ? accept : [accept];\n  }, [accept]);\n}\n\nclass DropTargetImpl {\n  canDrop() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n    return spec.canDrop ? spec.canDrop(monitor.getItem(), monitor) : true;\n  }\n\n  hover() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n\n    if (spec.hover) {\n      spec.hover(monitor.getItem(), monitor);\n    }\n  }\n\n  drop() {\n    const spec = this.spec;\n    const monitor = this.monitor;\n\n    if (spec.drop) {\n      return spec.drop(monitor.getItem(), monitor);\n    }\n\n    return;\n  }\n\n  constructor(spec, monitor) {\n    this.spec = spec;\n    this.monitor = monitor;\n  }\n\n}\n\nfunction useDropTarget(spec, monitor) {\n  const dropTarget = useMemo(() => new DropTargetImpl(spec, monitor), [monitor]);\n  useEffect(() => {\n    dropTarget.spec = spec;\n  }, [spec]);\n  return dropTarget;\n}\n\nfunction useRegisteredDropTarget(spec, monitor, connector) {\n  const manager = useDragDropManager();\n  const dropTarget = useDropTarget(spec, monitor);\n  const accept = useAccept(spec);\n  useIsomorphicLayoutEffect(function registerDropTarget() {\n    const [handlerId, unregister] = registerTarget(accept, dropTarget, manager);\n    monitor.receiveHandlerId(handlerId);\n    connector.receiveHandlerId(handlerId);\n    return unregister;\n  }, [manager, monitor, dropTarget, connector, accept.map(a => a.toString()).join('|')]);\n}\n\n/**\n * useDropTarget Hook\n * @param spec The drop target specification (object or function, function preferred)\n * @param deps The memoization deps array to use when evaluating spec changes\n */\n\nfunction useDrop(specArg, deps) {\n  const spec = useOptionalFactory(specArg, deps);\n  const monitor = useDropTargetMonitor();\n  const connector = useDropTargetConnector(spec.options);\n  useRegisteredDropTarget(spec, monitor, connector);\n  return [useCollectedProps(spec.collect, monitor, connector), useConnectDropTarget(connector)];\n}\n\n// cheap lodash replacements\nfunction memoize(fn) {\n  let result = null;\n\n  const memoized = () => {\n    if (result == null) {\n      result = fn();\n    }\n\n    return result;\n  };\n\n  return memoized;\n}\n/**\n * drop-in replacement for _.without\n */\n\nfunction without(items, item) {\n  return items.filter(i => i !== item);\n}\nfunction union(itemsA, itemsB) {\n  const set = new Set();\n\n  const insertItem = item => set.add(item);\n\n  itemsA.forEach(insertItem);\n  itemsB.forEach(insertItem);\n  const result = [];\n  set.forEach(key => result.push(key));\n  return result;\n}\n\nclass EnterLeaveCounter {\n  enter(enteringNode) {\n    const previousLength = this.entered.length;\n\n    const isNodeEntered = node => this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode));\n\n    this.entered = union(this.entered.filter(isNodeEntered), [enteringNode]);\n    return previousLength === 0 && this.entered.length > 0;\n  }\n\n  leave(leavingNode) {\n    const previousLength = this.entered.length;\n    this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n    return previousLength > 0 && this.entered.length === 0;\n  }\n\n  reset() {\n    this.entered = [];\n  }\n\n  constructor(isNodeInDocument) {\n    this.entered = [];\n    this.isNodeInDocument = isNodeInDocument;\n  }\n\n}\n\nclass NativeDragSource {\n  initializeExposedProperties() {\n    Object.keys(this.config.exposeProperties).forEach(property => {\n      Object.defineProperty(this.item, property, {\n        configurable: true,\n        enumerable: true,\n\n        get() {\n          // eslint-disable-next-line no-console\n          console.warn(`Browser doesn't allow reading \"${property}\" until the drop event.`);\n          return null;\n        }\n\n      });\n    });\n  }\n\n  loadDataTransfer(dataTransfer) {\n    if (dataTransfer) {\n      const newProperties = {};\n      Object.keys(this.config.exposeProperties).forEach(property => {\n        const propertyFn = this.config.exposeProperties[property];\n\n        if (propertyFn != null) {\n          newProperties[property] = {\n            value: propertyFn(dataTransfer, this.config.matchesTypes),\n            configurable: true,\n            enumerable: true\n          };\n        }\n      });\n      Object.defineProperties(this.item, newProperties);\n    }\n  }\n\n  canDrag() {\n    return true;\n  }\n\n  beginDrag() {\n    return this.item;\n  }\n\n  isDragging(monitor, handle) {\n    return handle === monitor.getSourceId();\n  }\n\n  endDrag() {// empty\n  }\n\n  constructor(config) {\n    this.config = config;\n    this.item = {};\n    this.initializeExposedProperties();\n  }\n\n}\n\nconst FILE = '__NATIVE_FILE__';\nconst URL = '__NATIVE_URL__';\nconst TEXT = '__NATIVE_TEXT__';\nconst HTML = '__NATIVE_HTML__';\n\nvar NativeTypes = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    FILE: FILE,\n    URL: URL,\n    TEXT: TEXT,\n    HTML: HTML\n});\n\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n  const result = typesToTry.reduce((resultSoFar, typeToTry) => resultSoFar || dataTransfer.getData(typeToTry), '');\n  return result != null ? result : defaultValue;\n}\n\nconst nativeTypesConfig = {\n  [FILE]: {\n    exposeProperties: {\n      files: dataTransfer => Array.prototype.slice.call(dataTransfer.files),\n      items: dataTransfer => dataTransfer.items,\n      dataTransfer: dataTransfer => dataTransfer\n    },\n    matchesTypes: ['Files']\n  },\n  [HTML]: {\n    exposeProperties: {\n      html: (dataTransfer, matchesTypes) => getDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n      dataTransfer: dataTransfer => dataTransfer\n    },\n    matchesTypes: ['Html', 'text/html']\n  },\n  [URL]: {\n    exposeProperties: {\n      urls: (dataTransfer, matchesTypes) => getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n'),\n      dataTransfer: dataTransfer => dataTransfer\n    },\n    matchesTypes: ['Url', 'text/uri-list']\n  },\n  [TEXT]: {\n    exposeProperties: {\n      text: (dataTransfer, matchesTypes) => getDataFromDataTransfer(dataTransfer, matchesTypes, ''),\n      dataTransfer: dataTransfer => dataTransfer\n    },\n    matchesTypes: ['Text', 'text/plain']\n  }\n};\n\nfunction createNativeDragSource(type, dataTransfer) {\n  const config = nativeTypesConfig[type];\n\n  if (!config) {\n    throw new Error(`native type ${type} has no configuration`);\n  }\n\n  const result = new NativeDragSource(config);\n  result.loadDataTransfer(dataTransfer);\n  return result;\n}\nfunction matchNativeItemType(dataTransfer) {\n  if (!dataTransfer) {\n    return null;\n  }\n\n  const dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n  return Object.keys(nativeTypesConfig).filter(nativeItemType => {\n    const typeConfig = nativeTypesConfig[nativeItemType];\n\n    if (!(typeConfig === null || typeConfig === void 0 ? void 0 : typeConfig.matchesTypes)) {\n      return false;\n    }\n\n    return typeConfig.matchesTypes.some(t => dataTransferTypes.indexOf(t) > -1);\n  })[0] || null;\n}\n\nconst isFirefox = memoize(() => /firefox/i.test(navigator.userAgent));\nconst isSafari = memoize(() => Boolean(window.safari));\n\nclass MonotonicInterpolant {\n  interpolate(x) {\n    const {\n      xs,\n      ys,\n      c1s,\n      c2s,\n      c3s\n    } = this; // The rightmost point in the dataset should give an exact result\n\n    let i = xs.length - 1;\n\n    if (x === xs[i]) {\n      return ys[i];\n    } // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n\n\n    let low = 0;\n    let high = c3s.length - 1;\n    let mid;\n\n    while (low <= high) {\n      mid = Math.floor(0.5 * (low + high));\n      const xHere = xs[mid];\n\n      if (xHere < x) {\n        low = mid + 1;\n      } else if (xHere > x) {\n        high = mid - 1;\n      } else {\n        return ys[mid];\n      }\n    }\n\n    i = Math.max(0, high); // Interpolate\n\n    const diff = x - xs[i];\n    const diffSq = diff * diff;\n    return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n  }\n\n  constructor(xs, ys) {\n    const {\n      length\n    } = xs; // Rearrange xs and ys so that xs is sorted\n\n    const indexes = [];\n\n    for (let i = 0; i < length; i++) {\n      indexes.push(i);\n    }\n\n    indexes.sort((a, b) => xs[a] < xs[b] ? -1 : 1); // Get consecutive differences and slopes\n    const dxs = [];\n    const ms = [];\n    let dx;\n    let dy;\n\n    for (let i1 = 0; i1 < length - 1; i1++) {\n      dx = xs[i1 + 1] - xs[i1];\n      dy = ys[i1 + 1] - ys[i1];\n      dxs.push(dx);\n      ms.push(dy / dx);\n    } // Get degree-1 coefficients\n\n\n    const c1s = [ms[0]];\n\n    for (let i2 = 0; i2 < dxs.length - 1; i2++) {\n      const m2 = ms[i2];\n      const mNext = ms[i2 + 1];\n\n      if (m2 * mNext <= 0) {\n        c1s.push(0);\n      } else {\n        dx = dxs[i2];\n        const dxNext = dxs[i2 + 1];\n        const common = dx + dxNext;\n        c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n      }\n    }\n\n    c1s.push(ms[ms.length - 1]); // Get degree-2 and degree-3 coefficients\n\n    const c2s = [];\n    const c3s = [];\n    let m;\n\n    for (let i3 = 0; i3 < c1s.length - 1; i3++) {\n      m = ms[i3];\n      const c1 = c1s[i3];\n      const invDx = 1 / dxs[i3];\n      const common = c1 + c1s[i3 + 1] - m - m;\n      c2s.push((m - c1 - common) * invDx);\n      c3s.push(common * invDx * invDx);\n    }\n\n    this.xs = xs;\n    this.ys = ys;\n    this.c1s = c1s;\n    this.c2s = c2s;\n    this.c3s = c3s;\n  }\n\n}\n\nconst ELEMENT_NODE$1 = 1;\nfunction getNodeClientOffset$1(node) {\n  const el = node.nodeType === ELEMENT_NODE$1 ? node : node.parentElement;\n\n  if (!el) {\n    return null;\n  }\n\n  const {\n    top,\n    left\n  } = el.getBoundingClientRect();\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientOffset$1(e) {\n  return {\n    x: e.clientX,\n    y: e.clientY\n  };\n}\n\nfunction isImageNode(node) {\n  var ref;\n  return node.nodeName === 'IMG' && (isFirefox() || !((ref = document.documentElement) === null || ref === void 0 ? void 0 : ref.contains(node)));\n}\n\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n  let dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n  let dragPreviewHeight = isImage ? dragPreview.height : sourceHeight; // Work around @2x coordinate discrepancies in browsers\n\n  if (isSafari() && isImage) {\n    dragPreviewHeight /= window.devicePixelRatio;\n    dragPreviewWidth /= window.devicePixelRatio;\n  }\n\n  return {\n    dragPreviewWidth,\n    dragPreviewHeight\n  };\n}\n\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n  // The browsers will use the image intrinsic size under different conditions.\n  // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n  const isImage = isImageNode(dragPreview);\n  const dragPreviewNode = isImage ? sourceNode : dragPreview;\n  const dragPreviewNodeOffsetFromClient = getNodeClientOffset$1(dragPreviewNode);\n  const offsetFromDragPreview = {\n    x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n    y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n  };\n  const {\n    offsetWidth: sourceWidth,\n    offsetHeight: sourceHeight\n  } = sourceNode;\n  const {\n    anchorX,\n    anchorY\n  } = anchorPoint;\n  const {\n    dragPreviewWidth,\n    dragPreviewHeight\n  } = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight);\n\n  const calculateYOffset = () => {\n    const interpolantY = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the top\n    offsetFromDragPreview.y, // Align at the center\n    offsetFromDragPreview.y / sourceHeight * dragPreviewHeight, // Dock to the bottom\n    offsetFromDragPreview.y + dragPreviewHeight - sourceHeight]);\n    let y = interpolantY.interpolate(anchorY); // Work around Safari 8 positioning bug\n\n    if (isSafari() && isImage) {\n      // We'll have to wait for @3x to see if this is entirely correct\n      y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n    }\n\n    return y;\n  };\n\n  const calculateXOffset = () => {\n    // Interpolate coordinates depending on anchor point\n    // If you know a simpler way to do this, let me know\n    const interpolantX = new MonotonicInterpolant([0, 0.5, 1], [// Dock to the left\n    offsetFromDragPreview.x, // Align at the center\n    offsetFromDragPreview.x / sourceWidth * dragPreviewWidth, // Dock to the right\n    offsetFromDragPreview.x + dragPreviewWidth - sourceWidth]);\n    return interpolantX.interpolate(anchorX);\n  }; // Force offsets if specified in the options.\n\n\n  const {\n    offsetX,\n    offsetY\n  } = offsetPoint;\n  const isManualOffsetX = offsetX === 0 || offsetX;\n  const isManualOffsetY = offsetY === 0 || offsetY;\n  return {\n    x: isManualOffsetX ? offsetX : calculateXOffset(),\n    y: isManualOffsetY ? offsetY : calculateYOffset()\n  };\n}\n\nclass OptionsReader$1 {\n  get window() {\n    if (this.globalContext) {\n      return this.globalContext;\n    } else if (typeof window !== 'undefined') {\n      return window;\n    }\n\n    return undefined;\n  }\n\n  get document() {\n    var ref;\n\n    if ((ref = this.globalContext) === null || ref === void 0 ? void 0 : ref.document) {\n      return this.globalContext.document;\n    } else if (this.window) {\n      return this.window.document;\n    } else {\n      return undefined;\n    }\n  }\n\n  get rootElement() {\n    var ref;\n    return ((ref = this.optionsArgs) === null || ref === void 0 ? void 0 : ref.rootElement) || this.window;\n  }\n\n  constructor(globalContext, options) {\n    this.ownerDocument = null;\n    this.globalContext = globalContext;\n    this.optionsArgs = options;\n  }\n\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\nclass HTML5BackendImpl {\n  /**\n  * Generate profiling statistics for the HTML5Backend.\n  */\n  profile() {\n    var ref, ref1;\n    return {\n      sourcePreviewNodes: this.sourcePreviewNodes.size,\n      sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n      sourceNodeOptions: this.sourceNodeOptions.size,\n      sourceNodes: this.sourceNodes.size,\n      dragStartSourceIds: ((ref = this.dragStartSourceIds) === null || ref === void 0 ? void 0 : ref.length) || 0,\n      dropTargetIds: this.dropTargetIds.length,\n      dragEnterTargetIds: this.dragEnterTargetIds.length,\n      dragOverTargetIds: ((ref1 = this.dragOverTargetIds) === null || ref1 === void 0 ? void 0 : ref1.length) || 0\n    };\n  } // public for test\n\n\n  get window() {\n    return this.options.window;\n  }\n\n  get document() {\n    return this.options.document;\n  }\n  /**\n  * Get the root element to use for event subscriptions\n  */\n\n\n  get rootElement() {\n    return this.options.rootElement;\n  }\n\n  setup() {\n    const root = this.rootElement;\n\n    if (root === undefined) {\n      return;\n    }\n\n    if (root.__isReactDndBackendSetUp) {\n      throw new Error('Cannot have two HTML5 backends at the same time.');\n    }\n\n    root.__isReactDndBackendSetUp = true;\n    this.addEventListeners(root);\n  }\n\n  teardown() {\n    const root = this.rootElement;\n\n    if (root === undefined) {\n      return;\n    }\n\n    root.__isReactDndBackendSetUp = false;\n    this.removeEventListeners(this.rootElement);\n    this.clearCurrentDragSourceNode();\n\n    if (this.asyncEndDragFrameId) {\n      var ref;\n      (ref = this.window) === null || ref === void 0 ? void 0 : ref.cancelAnimationFrame(this.asyncEndDragFrameId);\n    }\n  }\n\n  connectDragPreview(sourceId, node, options) {\n    this.sourcePreviewNodeOptions.set(sourceId, options);\n    this.sourcePreviewNodes.set(sourceId, node);\n    return () => {\n      this.sourcePreviewNodes.delete(sourceId);\n      this.sourcePreviewNodeOptions.delete(sourceId);\n    };\n  }\n\n  connectDragSource(sourceId, node, options) {\n    this.sourceNodes.set(sourceId, node);\n    this.sourceNodeOptions.set(sourceId, options);\n\n    const handleDragStart = e => this.handleDragStart(e, sourceId);\n\n    const handleSelectStart = e => this.handleSelectStart(e);\n\n    node.setAttribute('draggable', 'true');\n    node.addEventListener('dragstart', handleDragStart);\n    node.addEventListener('selectstart', handleSelectStart);\n    return () => {\n      this.sourceNodes.delete(sourceId);\n      this.sourceNodeOptions.delete(sourceId);\n      node.removeEventListener('dragstart', handleDragStart);\n      node.removeEventListener('selectstart', handleSelectStart);\n      node.setAttribute('draggable', 'false');\n    };\n  }\n\n  connectDropTarget(targetId, node) {\n    const handleDragEnter = e => this.handleDragEnter(e, targetId);\n\n    const handleDragOver = e => this.handleDragOver(e, targetId);\n\n    const handleDrop = e => this.handleDrop(e, targetId);\n\n    node.addEventListener('dragenter', handleDragEnter);\n    node.addEventListener('dragover', handleDragOver);\n    node.addEventListener('drop', handleDrop);\n    return () => {\n      node.removeEventListener('dragenter', handleDragEnter);\n      node.removeEventListener('dragover', handleDragOver);\n      node.removeEventListener('drop', handleDrop);\n    };\n  }\n\n  addEventListeners(target) {\n    // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n    if (!target.addEventListener) {\n      return;\n    }\n\n    target.addEventListener('dragstart', this.handleTopDragStart);\n    target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n    target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n    target.addEventListener('dragenter', this.handleTopDragEnter);\n    target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n    target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n    target.addEventListener('dragover', this.handleTopDragOver);\n    target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n    target.addEventListener('drop', this.handleTopDrop);\n    target.addEventListener('drop', this.handleTopDropCapture, true);\n  }\n\n  removeEventListeners(target) {\n    // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n    if (!target.removeEventListener) {\n      return;\n    }\n\n    target.removeEventListener('dragstart', this.handleTopDragStart);\n    target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n    target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n    target.removeEventListener('dragenter', this.handleTopDragEnter);\n    target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n    target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n    target.removeEventListener('dragover', this.handleTopDragOver);\n    target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n    target.removeEventListener('drop', this.handleTopDrop);\n    target.removeEventListener('drop', this.handleTopDropCapture, true);\n  }\n\n  getCurrentSourceNodeOptions() {\n    const sourceId = this.monitor.getSourceId();\n    const sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n    return _objectSpread({\n      dropEffect: this.altKeyPressed ? 'copy' : 'move'\n    }, sourceNodeOptions || {});\n  }\n\n  getCurrentDropEffect() {\n    if (this.isDraggingNativeItem()) {\n      // It makes more sense to default to 'copy' for native resources\n      return 'copy';\n    }\n\n    return this.getCurrentSourceNodeOptions().dropEffect;\n  }\n\n  getCurrentSourcePreviewNodeOptions() {\n    const sourceId = this.monitor.getSourceId();\n    const sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n    return _objectSpread({\n      anchorX: 0.5,\n      anchorY: 0.5,\n      captureDraggingState: false\n    }, sourcePreviewNodeOptions || {});\n  }\n\n  isDraggingNativeItem() {\n    const itemType = this.monitor.getItemType();\n    return Object.keys(NativeTypes).some(key => NativeTypes[key] === itemType);\n  }\n\n  beginDragNativeItem(type, dataTransfer) {\n    this.clearCurrentDragSourceNode();\n    this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n    this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n    this.actions.beginDrag([this.currentNativeHandle]);\n  }\n\n  setCurrentDragSourceNode(node) {\n    this.clearCurrentDragSourceNode();\n    this.currentDragSourceNode = node; // A timeout of > 0 is necessary to resolve Firefox issue referenced\n    // See:\n    //   * https://github.com/react-dnd/react-dnd/pull/928\n    //   * https://github.com/react-dnd/react-dnd/issues/869\n\n    const MOUSE_MOVE_TIMEOUT = 1000; // Receiving a mouse event in the middle of a dragging operation\n    // means it has ended and the drag source node disappeared from DOM,\n    // so the browser didn't dispatch the dragend event.\n    //\n    // We need to wait before we start listening for mousemove events.\n    // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n    // immediately in some browsers.\n    //\n    // See:\n    //   * https://github.com/react-dnd/react-dnd/pull/928\n    //   * https://github.com/react-dnd/react-dnd/issues/869\n    //\n\n    this.mouseMoveTimeoutTimer = setTimeout(() => {\n      var ref;\n      return (ref = this.rootElement) === null || ref === void 0 ? void 0 : ref.addEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n    }, MOUSE_MOVE_TIMEOUT);\n  }\n\n  clearCurrentDragSourceNode() {\n    if (this.currentDragSourceNode) {\n      this.currentDragSourceNode = null;\n\n      if (this.rootElement) {\n        var ref;\n        (ref = this.window) === null || ref === void 0 ? void 0 : ref.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n        this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n      }\n\n      this.mouseMoveTimeoutTimer = null;\n      return true;\n    }\n\n    return false;\n  }\n\n  handleDragStart(e, sourceId) {\n    if (e.defaultPrevented) {\n      return;\n    }\n\n    if (!this.dragStartSourceIds) {\n      this.dragStartSourceIds = [];\n    }\n\n    this.dragStartSourceIds.unshift(sourceId);\n  }\n\n  handleDragEnter(_e, targetId) {\n    this.dragEnterTargetIds.unshift(targetId);\n  }\n\n  handleDragOver(_e, targetId) {\n    if (this.dragOverTargetIds === null) {\n      this.dragOverTargetIds = [];\n    }\n\n    this.dragOverTargetIds.unshift(targetId);\n  }\n\n  handleDrop(_e, targetId) {\n    this.dropTargetIds.unshift(targetId);\n  }\n\n  constructor(manager, globalContext, options) {\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.sourceNodes = new Map();\n    this.sourceNodeOptions = new Map();\n    this.dragStartSourceIds = null;\n    this.dropTargetIds = [];\n    this.dragEnterTargetIds = [];\n    this.currentNativeSource = null;\n    this.currentNativeHandle = null;\n    this.currentDragSourceNode = null;\n    this.altKeyPressed = false;\n    this.mouseMoveTimeoutTimer = null;\n    this.asyncEndDragFrameId = null;\n    this.dragOverTargetIds = null;\n    this.lastClientOffset = null;\n    this.hoverRafId = null;\n\n    this.getSourceClientOffset = sourceId => {\n      const source = this.sourceNodes.get(sourceId);\n      return source && getNodeClientOffset$1(source) || null;\n    };\n\n    this.endDragNativeItem = () => {\n      if (!this.isDraggingNativeItem()) {\n        return;\n      }\n\n      this.actions.endDrag();\n\n      if (this.currentNativeHandle) {\n        this.registry.removeSource(this.currentNativeHandle);\n      }\n\n      this.currentNativeHandle = null;\n      this.currentNativeSource = null;\n    };\n\n    this.isNodeInDocument = node => {\n      // Check the node either in the main document or in the current context\n      return Boolean(node && this.document && this.document.body && this.document.body.contains(node));\n    };\n\n    this.endDragIfSourceWasRemovedFromDOM = () => {\n      const node = this.currentDragSourceNode;\n\n      if (node == null || this.isNodeInDocument(node)) {\n        return;\n      }\n\n      if (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n        this.actions.endDrag();\n      }\n\n      this.cancelHover();\n    };\n\n    this.scheduleHover = dragOverTargetIds => {\n      if (this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n        this.hoverRafId = requestAnimationFrame(() => {\n          if (this.monitor.isDragging()) {\n            this.actions.hover(dragOverTargetIds || [], {\n              clientOffset: this.lastClientOffset\n            });\n          }\n\n          this.hoverRafId = null;\n        });\n      }\n    };\n\n    this.cancelHover = () => {\n      if (this.hoverRafId !== null && typeof cancelAnimationFrame !== 'undefined') {\n        cancelAnimationFrame(this.hoverRafId);\n        this.hoverRafId = null;\n      }\n    };\n\n    this.handleTopDragStartCapture = () => {\n      this.clearCurrentDragSourceNode();\n      this.dragStartSourceIds = [];\n    };\n\n    this.handleTopDragStart = e => {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      const {\n        dragStartSourceIds\n      } = this;\n      this.dragStartSourceIds = null;\n      const clientOffset = getEventClientOffset$1(e); // Avoid crashing if we missed a drop event or our previous drag died\n\n      if (this.monitor.isDragging()) {\n        this.actions.endDrag();\n        this.cancelHover();\n      } // Don't publish the source just yet (see why below)\n\n\n      this.actions.beginDrag(dragStartSourceIds || [], {\n        publishSource: false,\n        getSourceClientOffset: this.getSourceClientOffset,\n        clientOffset\n      });\n      const {\n        dataTransfer\n      } = e;\n      const nativeType = matchNativeItemType(dataTransfer);\n\n      if (this.monitor.isDragging()) {\n        if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n          // Use custom drag image if user specifies it.\n          // If child drag source refuses drag but parent agrees,\n          // use parent's node as drag image. Neither works in IE though.\n          const sourceId = this.monitor.getSourceId();\n          const sourceNode = this.sourceNodes.get(sourceId);\n          const dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode;\n\n          if (dragPreview) {\n            const {\n              anchorX,\n              anchorY,\n              offsetX,\n              offsetY\n            } = this.getCurrentSourcePreviewNodeOptions();\n            const anchorPoint = {\n              anchorX,\n              anchorY\n            };\n            const offsetPoint = {\n              offsetX,\n              offsetY\n            };\n            const dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n            dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n          }\n        }\n\n        try {\n          // Firefox won't drag without setting data\n          dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n        } catch (err) {// IE doesn't support MIME types in setData\n        } // Store drag source node so we can check whether\n        // it is removed from DOM and trigger endDrag manually.\n\n\n        this.setCurrentDragSourceNode(e.target); // Now we are ready to publish the drag source.. or are we not?\n\n        const {\n          captureDraggingState\n        } = this.getCurrentSourcePreviewNodeOptions();\n\n        if (!captureDraggingState) {\n          // Usually we want to publish it in the next tick so that browser\n          // is able to screenshot the current (not yet dragging) state.\n          //\n          // It also neatly avoids a situation where render() returns null\n          // in the same tick for the source element, and browser freaks out.\n          setTimeout(() => this.actions.publishDragSource(), 0);\n        } else {\n          // In some cases the user may want to override this behavior, e.g.\n          // to work around IE not supporting custom drag previews.\n          //\n          // When using a custom drag layer, the only way to prevent\n          // the default drag preview from drawing in IE is to screenshot\n          // the dragging state in which the node itself has zero opacity\n          // and height. In this case, though, returning null from render()\n          // will abruptly end the dragging, which is not obvious.\n          //\n          // This is the reason such behavior is strictly opt-in.\n          this.actions.publishDragSource();\n        }\n      } else if (nativeType) {\n        // A native item (such as URL) dragged from inside the document\n        this.beginDragNativeItem(nativeType);\n      } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n        // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n        // Just let it drag. It's a native type (URL or text) and will be picked up in\n        // dragenter handler.\n        return;\n      } else {\n        // If by this time no drag source reacted, tell browser not to drag.\n        e.preventDefault();\n      }\n    };\n\n    this.handleTopDragEndCapture = () => {\n      if (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n        // Firefox can dispatch this event in an infinite loop\n        // if dragend handler does something like showing an alert.\n        // Only proceed if we have not handled it already.\n        this.actions.endDrag();\n      }\n\n      this.cancelHover();\n    };\n\n    this.handleTopDragEnterCapture = e => {\n      this.dragEnterTargetIds = [];\n\n      if (this.isDraggingNativeItem()) {\n        var ref;\n        (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n      }\n\n      const isFirstEnter = this.enterLeaveCounter.enter(e.target);\n\n      if (!isFirstEnter || this.monitor.isDragging()) {\n        return;\n      }\n\n      const {\n        dataTransfer\n      } = e;\n      const nativeType = matchNativeItemType(dataTransfer);\n\n      if (nativeType) {\n        // A native item (such as file or URL) dragged from outside the document\n        this.beginDragNativeItem(nativeType, dataTransfer);\n      }\n    };\n\n    this.handleTopDragEnter = e => {\n      const {\n        dragEnterTargetIds\n      } = this;\n      this.dragEnterTargetIds = [];\n\n      if (!this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        return;\n      }\n\n      this.altKeyPressed = e.altKey; // If the target changes position as the result of `dragenter`, `dragover` might still\n      // get dispatched despite target being no longer there. The easy solution is to check\n      // whether there actually is a target before firing `hover`.\n\n      if (dragEnterTargetIds.length > 0) {\n        this.actions.hover(dragEnterTargetIds, {\n          clientOffset: getEventClientOffset$1(e)\n        });\n      }\n\n      const canDrop = dragEnterTargetIds.some(targetId => this.monitor.canDropOnTarget(targetId));\n\n      if (canDrop) {\n        // IE requires this to fire dragover events\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n        }\n      }\n    };\n\n    this.handleTopDragOverCapture = e => {\n      this.dragOverTargetIds = [];\n\n      if (this.isDraggingNativeItem()) {\n        var ref;\n        (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n      }\n    };\n\n    this.handleTopDragOver = e => {\n      const {\n        dragOverTargetIds\n      } = this;\n      this.dragOverTargetIds = [];\n\n      if (!this.monitor.isDragging()) {\n        // This is probably a native item type we don't understand.\n        // Prevent default \"drop and blow away the whole document\" action.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n\n        return;\n      }\n\n      this.altKeyPressed = e.altKey;\n      this.lastClientOffset = getEventClientOffset$1(e);\n      this.scheduleHover(dragOverTargetIds);\n      const canDrop = (dragOverTargetIds || []).some(targetId => this.monitor.canDropOnTarget(targetId));\n\n      if (canDrop) {\n        // Show user-specified drop effect.\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n        }\n      } else if (this.isDraggingNativeItem()) {\n        // Don't show a nice cursor but still prevent default\n        // \"drop and blow away the whole document\" action.\n        e.preventDefault();\n      } else {\n        e.preventDefault();\n\n        if (e.dataTransfer) {\n          e.dataTransfer.dropEffect = 'none';\n        }\n      }\n    };\n\n    this.handleTopDragLeaveCapture = e => {\n      if (this.isDraggingNativeItem()) {\n        e.preventDefault();\n      }\n\n      const isLastLeave = this.enterLeaveCounter.leave(e.target);\n\n      if (!isLastLeave) {\n        return;\n      }\n\n      if (this.isDraggingNativeItem()) {\n        setTimeout(() => this.endDragNativeItem(), 0);\n      }\n\n      this.cancelHover();\n    };\n\n    this.handleTopDropCapture = e => {\n      this.dropTargetIds = [];\n\n      if (this.isDraggingNativeItem()) {\n        var ref;\n        e.preventDefault();\n        (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n      } else if (matchNativeItemType(e.dataTransfer)) {\n        // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n        // even if the current drag event matches a user-defined type.\n        // Stop the default behavior when we're not expecting a native item to be dropped.\n        e.preventDefault();\n      }\n\n      this.enterLeaveCounter.reset();\n    };\n\n    this.handleTopDrop = e => {\n      const {\n        dropTargetIds\n      } = this;\n      this.dropTargetIds = [];\n      this.actions.hover(dropTargetIds, {\n        clientOffset: getEventClientOffset$1(e)\n      });\n      this.actions.drop({\n        dropEffect: this.getCurrentDropEffect()\n      });\n\n      if (this.isDraggingNativeItem()) {\n        this.endDragNativeItem();\n      } else if (this.monitor.isDragging()) {\n        this.actions.endDrag();\n      }\n\n      this.cancelHover();\n    };\n\n    this.handleSelectStart = e => {\n      const target = e.target; // Only IE requires us to explicitly say\n      // we want drag drop operation to start\n\n      if (typeof target.dragDrop !== 'function') {\n        return;\n      } // Inputs and textareas should be selectable\n\n\n      if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n        return;\n      } // For other targets, ask IE\n      // to enable drag and drop\n\n\n      e.preventDefault();\n      target.dragDrop();\n    };\n\n    this.options = new OptionsReader$1(globalContext, options);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.registry = manager.getRegistry();\n    this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n  }\n\n}\n\nlet emptyImage;\nfunction getEmptyImage() {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    emptyImage.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  return emptyImage;\n}\n\nconst HTML5Backend = function createBackend(manager, context, options) {\n  return new HTML5BackendImpl(manager, context, options);\n};\n\nvar ListenerType;\n\n(function (ListenerType) {\n  ListenerType[\"mouse\"] = \"mouse\";\n  ListenerType[\"touch\"] = \"touch\";\n  ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));\n\nclass OptionsReader {\n  get delay() {\n    var _delay;\n\n    return (_delay = this.args.delay) !== null && _delay !== void 0 ? _delay : 0;\n  }\n\n  get scrollAngleRanges() {\n    return this.args.scrollAngleRanges;\n  }\n\n  get getDropTargetElementsAtPoint() {\n    return this.args.getDropTargetElementsAtPoint;\n  }\n\n  get ignoreContextMenu() {\n    var _ignoreContextMenu;\n\n    return (_ignoreContextMenu = this.args.ignoreContextMenu) !== null && _ignoreContextMenu !== void 0 ? _ignoreContextMenu : false;\n  }\n\n  get enableHoverOutsideTarget() {\n    var _enableHoverOutsideTarget;\n\n    return (_enableHoverOutsideTarget = this.args.enableHoverOutsideTarget) !== null && _enableHoverOutsideTarget !== void 0 ? _enableHoverOutsideTarget : false;\n  }\n\n  get enableKeyboardEvents() {\n    var _enableKeyboardEvents;\n\n    return (_enableKeyboardEvents = this.args.enableKeyboardEvents) !== null && _enableKeyboardEvents !== void 0 ? _enableKeyboardEvents : false;\n  }\n\n  get enableMouseEvents() {\n    var _enableMouseEvents;\n\n    return (_enableMouseEvents = this.args.enableMouseEvents) !== null && _enableMouseEvents !== void 0 ? _enableMouseEvents : false;\n  }\n\n  get enableTouchEvents() {\n    var _enableTouchEvents;\n\n    return (_enableTouchEvents = this.args.enableTouchEvents) !== null && _enableTouchEvents !== void 0 ? _enableTouchEvents : true;\n  }\n\n  get touchSlop() {\n    return this.args.touchSlop || 0;\n  }\n\n  get delayTouchStart() {\n    var ref, ref1;\n    var ref2, ref3;\n    return (ref3 = (ref2 = (ref = this.args) === null || ref === void 0 ? void 0 : ref.delayTouchStart) !== null && ref2 !== void 0 ? ref2 : (ref1 = this.args) === null || ref1 === void 0 ? void 0 : ref1.delay) !== null && ref3 !== void 0 ? ref3 : 0;\n  }\n\n  get delayMouseStart() {\n    var ref, ref4;\n    var ref5, ref6;\n    return (ref6 = (ref5 = (ref = this.args) === null || ref === void 0 ? void 0 : ref.delayMouseStart) !== null && ref5 !== void 0 ? ref5 : (ref4 = this.args) === null || ref4 === void 0 ? void 0 : ref4.delay) !== null && ref6 !== void 0 ? ref6 : 0;\n  }\n\n  get window() {\n    if (this.context && this.context.window) {\n      return this.context.window;\n    } else if (typeof window !== 'undefined') {\n      return window;\n    }\n\n    return undefined;\n  }\n\n  get document() {\n    var ref;\n\n    if ((ref = this.context) === null || ref === void 0 ? void 0 : ref.document) {\n      return this.context.document;\n    }\n\n    if (this.window) {\n      return this.window.document;\n    }\n\n    return undefined;\n  }\n\n  get rootElement() {\n    var ref;\n    return ((ref = this.args) === null || ref === void 0 ? void 0 : ref.rootElement) || this.document;\n  }\n\n  constructor(args, context) {\n    this.args = args;\n    this.context = context;\n  }\n\n}\n\nfunction distance(x1, y1, x2, y2) {\n  return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nfunction inAngleRanges(x1, y1, x2, y2, angleRanges) {\n  if (!angleRanges) {\n    return false;\n  }\n\n  const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n\n  for (let i = 0; i < angleRanges.length; ++i) {\n    const ar = angleRanges[i];\n\n    if (ar && (ar.start == null || angle >= ar.start) && (ar.end == null || angle <= ar.end)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Used for MouseEvent.buttons (note the s on the end).\nconst MouseButtons = {\n  Left: 1,\n  Right: 2,\n  Center: 4\n}; // Used for e.button (note the lack of an s on the end).\n\nconst MouseButton = {\n  Left: 0,\n  Center: 1,\n  Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldStartDrag(e) {\n  // For touch events, button will be undefined. If e.button is defined,\n  // then it should be MouseButton.Left.\n  return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */\n\nfunction eventShouldEndDrag(e) {\n  // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n  // bit field unset if the left mouse button has been released\n  return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nfunction isTouchEvent(e) {\n  return !!e.targetTouches;\n}\n\nconst ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n  const el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n\n  if (!el) {\n    return undefined;\n  }\n\n  const {\n    top,\n    left\n  } = el.getBoundingClientRect();\n  return {\n    x: left,\n    y: top\n  };\n}\nfunction getEventClientTouchOffset(e, lastTargetTouchFallback) {\n  if (e.targetTouches.length === 1) {\n    return getEventClientOffset(e.targetTouches[0]);\n  } else if (lastTargetTouchFallback && e.touches.length === 1) {\n    if (e.touches[0].target === lastTargetTouchFallback.target) {\n      return getEventClientOffset(e.touches[0]);\n    }\n  }\n\n  return;\n}\nfunction getEventClientOffset(e, lastTargetTouchFallback) {\n  if (isTouchEvent(e)) {\n    return getEventClientTouchOffset(e, lastTargetTouchFallback);\n  } else {\n    return {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n}\n\nconst supportsPassive = (() => {\n  // simular to jQuery's test\n  let supported = false;\n\n  try {\n    addEventListener('test', () => {// do nothing\n    }, Object.defineProperty({}, 'passive', {\n      get() {\n        supported = true;\n        return true;\n      }\n\n    }));\n  } catch (e) {// do nothing\n  }\n\n  return supported;\n})();\n\nconst eventNames = {\n  [ListenerType.mouse]: {\n    start: 'mousedown',\n    move: 'mousemove',\n    end: 'mouseup',\n    contextmenu: 'contextmenu'\n  },\n  [ListenerType.touch]: {\n    start: 'touchstart',\n    move: 'touchmove',\n    end: 'touchend'\n  },\n  [ListenerType.keyboard]: {\n    keydown: 'keydown'\n  }\n};\nclass TouchBackendImpl {\n  /**\n  * Generate profiling statistics for the HTML5Backend.\n  */\n  profile() {\n    var ref;\n    return {\n      sourceNodes: this.sourceNodes.size,\n      sourcePreviewNodes: this.sourcePreviewNodes.size,\n      sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n      targetNodes: this.targetNodes.size,\n      dragOverTargetIds: ((ref = this.dragOverTargetIds) === null || ref === void 0 ? void 0 : ref.length) || 0\n    };\n  } // public for test\n\n\n  get document() {\n    return this.options.document;\n  }\n\n  setup() {\n    const root = this.options.rootElement;\n\n    if (!root) {\n      return;\n    }\n\n    invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n    TouchBackendImpl.isSetUp = true;\n    this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n    this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n    this.addEventListener(root, 'move', this.handleTopMove);\n    this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n    this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n    if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n      this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n    }\n  }\n\n  teardown() {\n    const root = this.options.rootElement;\n\n    if (!root) {\n      return;\n    }\n\n    TouchBackendImpl.isSetUp = false;\n    this._mouseClientOffset = {};\n    this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n    this.removeEventListener(root, 'start', this.handleTopMoveStart);\n    this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n    this.removeEventListener(root, 'move', this.handleTopMove);\n    this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n\n    if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n      this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n    }\n\n    this.uninstallSourceNodeRemovalObserver();\n  }\n\n  addEventListener(subject, event, handler, capture = false) {\n    const options = supportsPassive ? {\n      capture,\n      passive: false\n    } : capture;\n    this.listenerTypes.forEach(function (listenerType) {\n      const evt = eventNames[listenerType][event];\n\n      if (evt) {\n        subject.addEventListener(evt, handler, options);\n      }\n    });\n  }\n\n  removeEventListener(subject, event, handler, capture = false) {\n    const options = supportsPassive ? {\n      capture,\n      passive: false\n    } : capture;\n    this.listenerTypes.forEach(function (listenerType) {\n      const evt = eventNames[listenerType][event];\n\n      if (evt) {\n        subject.removeEventListener(evt, handler, options);\n      }\n    });\n  }\n\n  connectDragSource(sourceId, node) {\n    const handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n    this.sourceNodes.set(sourceId, node);\n    this.addEventListener(node, 'start', handleMoveStart);\n    return () => {\n      this.sourceNodes.delete(sourceId);\n      this.removeEventListener(node, 'start', handleMoveStart);\n    };\n  }\n\n  connectDragPreview(sourceId, node, options) {\n    this.sourcePreviewNodeOptions.set(sourceId, options);\n    this.sourcePreviewNodes.set(sourceId, node);\n    return () => {\n      this.sourcePreviewNodes.delete(sourceId);\n      this.sourcePreviewNodeOptions.delete(sourceId);\n    };\n  }\n\n  connectDropTarget(targetId, node) {\n    const root = this.options.rootElement;\n\n    if (!this.document || !root) {\n      return () => {\n        /* noop */\n      };\n    }\n\n    const handleMove = e => {\n      if (!this.document || !root || !this.monitor.isDragging()) {\n        return;\n      }\n\n      let coords;\n      /**\n      * Grab the coordinates for the current mouse/touch position\n      */\n\n      switch (e.type) {\n        case eventNames.mouse.move:\n          coords = {\n            x: e.clientX,\n            y: e.clientY\n          };\n          break;\n\n        case eventNames.touch.move:\n          var ref, ref1;\n          coords = {\n            x: ((ref = e.touches[0]) === null || ref === void 0 ? void 0 : ref.clientX) || 0,\n            y: ((ref1 = e.touches[0]) === null || ref1 === void 0 ? void 0 : ref1.clientY) || 0\n          };\n          break;\n      }\n      /**\n      * Use the coordinates to grab the element the drag ended on.\n      * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n      */\n\n\n      const droppedOn = coords != null ? this.document.elementFromPoint(coords.x, coords.y) : undefined;\n      const childMatch = droppedOn && node.contains(droppedOn);\n\n      if (droppedOn === node || childMatch) {\n        return this.handleMove(e, targetId);\n      }\n    };\n    /**\n    * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n    */\n\n\n    this.addEventListener(this.document.body, 'move', handleMove);\n    this.targetNodes.set(targetId, node);\n    return () => {\n      if (this.document) {\n        this.targetNodes.delete(targetId);\n        this.removeEventListener(this.document.body, 'move', handleMove);\n      }\n    };\n  }\n\n  getTopMoveStartHandler() {\n    if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n      return this.handleTopMoveStart;\n    }\n\n    return this.handleTopMoveStartDelay;\n  }\n\n  installSourceNodeRemovalObserver(node) {\n    this.uninstallSourceNodeRemovalObserver();\n    this.draggedSourceNode = node;\n    this.draggedSourceNodeRemovalObserver = new MutationObserver(() => {\n      if (node && !node.parentElement) {\n        this.resurrectSourceNode();\n        this.uninstallSourceNodeRemovalObserver();\n      }\n    });\n\n    if (!node || !node.parentElement) {\n      return;\n    }\n\n    this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n      childList: true\n    });\n  }\n\n  resurrectSourceNode() {\n    if (this.document && this.draggedSourceNode) {\n      this.draggedSourceNode.style.display = 'none';\n      this.draggedSourceNode.removeAttribute('data-reactid');\n      this.document.body.appendChild(this.draggedSourceNode);\n    }\n  }\n\n  uninstallSourceNodeRemovalObserver() {\n    if (this.draggedSourceNodeRemovalObserver) {\n      this.draggedSourceNodeRemovalObserver.disconnect();\n    }\n\n    this.draggedSourceNodeRemovalObserver = undefined;\n    this.draggedSourceNode = undefined;\n  }\n\n  constructor(manager, context, options) {\n    this.getSourceClientOffset = sourceId => {\n      const element = this.sourceNodes.get(sourceId);\n      return element && getNodeClientOffset(element);\n    };\n\n    this.handleTopMoveStartCapture = e => {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      this.moveStartSourceIds = [];\n    };\n\n    this.handleMoveStart = sourceId => {\n      // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n      // We only collect start collecting drag sources on touch and left mouse events.\n      if (Array.isArray(this.moveStartSourceIds)) {\n        this.moveStartSourceIds.unshift(sourceId);\n      }\n    };\n\n    this.handleTopMoveStart = e => {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      } // Don't prematurely preventDefault() here since it might:\n      // 1. Mess up scrolling\n      // 2. Mess up long tap (which brings up context menu)\n      // 3. If there's an anchor link as a child, tap won't be triggered on link\n\n\n      const clientOffset = getEventClientOffset(e);\n\n      if (clientOffset) {\n        if (isTouchEvent(e)) {\n          this.lastTargetTouchFallback = e.targetTouches[0];\n        }\n\n        this._mouseClientOffset = clientOffset;\n      }\n\n      this.waitingForDelay = false;\n    };\n\n    this.handleTopMoveStartDelay = e => {\n      if (!eventShouldStartDrag(e)) {\n        return;\n      }\n\n      const delay = e.type === eventNames.touch.start ? this.options.delayTouchStart : this.options.delayMouseStart;\n      this.timeout = setTimeout(this.handleTopMoveStart.bind(this, e), delay);\n      this.waitingForDelay = true;\n    };\n\n    this.handleTopMoveCapture = () => {\n      this.dragOverTargetIds = [];\n    };\n\n    this.handleMove = (_evt, targetId) => {\n      if (this.dragOverTargetIds) {\n        this.dragOverTargetIds.unshift(targetId);\n      }\n    };\n\n    this.handleTopMove = e1 => {\n      if (this.timeout) {\n        clearTimeout(this.timeout);\n      }\n\n      if (!this.document || this.waitingForDelay) {\n        return;\n      }\n\n      const {\n        moveStartSourceIds,\n        dragOverTargetIds\n      } = this;\n      const enableHoverOutsideTarget = this.options.enableHoverOutsideTarget;\n      const clientOffset = getEventClientOffset(e1, this.lastTargetTouchFallback);\n\n      if (!clientOffset) {\n        return;\n      } // If the touch move started as a scroll, or is is between the scroll angles\n\n\n      if (this._isScrolling || !this.monitor.isDragging() && inAngleRanges(this._mouseClientOffset.x || 0, this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, this.options.scrollAngleRanges)) {\n        this._isScrolling = true;\n        return;\n      } // If we're not dragging and we've moved a little, that counts as a drag start\n\n\n      if (!this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n      this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(this._mouseClientOffset.x || 0, this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (this.options.touchSlop ? this.options.touchSlop : 0)) {\n        this.moveStartSourceIds = undefined;\n        this.actions.beginDrag(moveStartSourceIds, {\n          clientOffset: this._mouseClientOffset,\n          getSourceClientOffset: this.getSourceClientOffset,\n          publishSource: false\n        });\n      }\n\n      if (!this.monitor.isDragging()) {\n        return;\n      }\n\n      const sourceNode = this.sourceNodes.get(this.monitor.getSourceId());\n      this.installSourceNodeRemovalObserver(sourceNode);\n      this.actions.publishDragSource();\n      if (e1.cancelable) e1.preventDefault(); // Get the node elements of the hovered DropTargets\n\n      const dragOverTargetNodes = (dragOverTargetIds || []).map(key => this.targetNodes.get(key)).filter(e => !!e); // Get the a ordered list of nodes that are touched by\n\n      const elementsAtPoint = this.options.getDropTargetElementsAtPoint ? this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : this.document.elementsFromPoint(clientOffset.x, clientOffset.y); // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n\n      const elementsAtPointExtended = [];\n\n      for (const nodeId in elementsAtPoint) {\n        // eslint-disable-next-line no-prototype-builtins\n        if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n          continue;\n        }\n\n        let currentNode = elementsAtPoint[nodeId];\n\n        if (currentNode != null) {\n          elementsAtPointExtended.push(currentNode);\n        }\n\n        while (currentNode) {\n          currentNode = currentNode.parentElement;\n\n          if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n            elementsAtPointExtended.push(currentNode);\n          }\n        }\n      }\n\n      const orderedDragOverTargetIds = elementsAtPointExtended // Filter off nodes that arent a hovered DropTargets nodes\n      .filter(node => dragOverTargetNodes.indexOf(node) > -1) // Map back the nodes elements to targetIds\n      .map(node => this._getDropTargetId(node)) // Filter off possible null rows\n      .filter(node => !!node).filter((id, index, ids) => ids.indexOf(id) === index); // Invoke hover for drop targets when source node is still over and pointer is outside\n\n      if (enableHoverOutsideTarget) {\n        for (const targetId in this.targetNodes) {\n          const targetNode = this.targetNodes.get(targetId);\n\n          if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n            orderedDragOverTargetIds.unshift(targetId);\n            break;\n          }\n        }\n      } // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n\n\n      orderedDragOverTargetIds.reverse();\n      this.actions.hover(orderedDragOverTargetIds, {\n        clientOffset: clientOffset\n      });\n    };\n    /**\n    *\n    * visible for testing\n    */\n\n\n    this._getDropTargetId = node => {\n      const keys = this.targetNodes.keys();\n      let next = keys.next();\n\n      while (next.done === false) {\n        const targetId = next.value;\n\n        if (node === this.targetNodes.get(targetId)) {\n          return targetId;\n        } else {\n          next = keys.next();\n        }\n      }\n\n      return undefined;\n    };\n\n    this.handleTopMoveEndCapture = e => {\n      this._isScrolling = false;\n      this.lastTargetTouchFallback = undefined;\n\n      if (!eventShouldEndDrag(e)) {\n        return;\n      }\n\n      if (!this.monitor.isDragging() || this.monitor.didDrop()) {\n        this.moveStartSourceIds = undefined;\n        return;\n      }\n\n      if (e.cancelable) e.preventDefault();\n      this._mouseClientOffset = {};\n      this.uninstallSourceNodeRemovalObserver();\n      this.actions.drop();\n      this.actions.endDrag();\n    };\n\n    this.handleCancelOnEscape = e => {\n      if (e.key === 'Escape' && this.monitor.isDragging()) {\n        this._mouseClientOffset = {};\n        this.uninstallSourceNodeRemovalObserver();\n        this.actions.endDrag();\n      }\n    };\n\n    this.options = new OptionsReader(options, context);\n    this.actions = manager.getActions();\n    this.monitor = manager.getMonitor();\n    this.sourceNodes = new Map();\n    this.sourcePreviewNodes = new Map();\n    this.sourcePreviewNodeOptions = new Map();\n    this.targetNodes = new Map();\n    this.listenerTypes = [];\n    this._mouseClientOffset = {};\n    this._isScrolling = false;\n\n    if (this.options.enableMouseEvents) {\n      this.listenerTypes.push(ListenerType.mouse);\n    }\n\n    if (this.options.enableTouchEvents) {\n      this.listenerTypes.push(ListenerType.touch);\n    }\n\n    if (this.options.enableKeyboardEvents) {\n      this.listenerTypes.push(ListenerType.keyboard);\n    }\n  }\n\n}\n\nconst TouchBackend = function createBackend(manager, context = {}, options = {}) {\n  return new TouchBackendImpl(manager, context, options);\n};\n\nconst COLUMNS = 'abcdefgh'.split('');\nconst chessboardDefaultProps = {\n  animationDuration: 300,\n  areArrowsAllowed: true,\n  arePiecesDraggable: true,\n  arePremovesAllowed: false,\n  boardOrientation: 'white',\n  boardWidth: 560,\n  clearPremovesOnRightClick: true,\n  customArrows: [],\n  customArrowColor: 'rgb(255,170,0)',\n  customBoardStyle: {},\n  customDarkSquareStyle: {\n    backgroundColor: '#B58863'\n  },\n  customDndBackend: undefined,\n  customDndBackendOptions: undefined,\n  customDropSquareStyle: {\n    boxShadow: 'inset 0 0 1px 6px rgba(255,255,255,0.75)'\n  },\n  customLightSquareStyle: {\n    backgroundColor: '#F0D9B5'\n  },\n  customPieces: {},\n  customPremoveDarkSquareStyle: {\n    backgroundColor: '#A42323'\n  },\n  customPremoveLightSquareStyle: {\n    backgroundColor: '#BD2828'\n  },\n  customSquareStyles: {},\n  dropOffBoardAction: 'snapback',\n  id: 0,\n  isDraggablePiece: () => true,\n  getPositionObject: () => {},\n  onArrowsChange: () => {},\n  onDragOverSquare: () => {},\n  onMouseOutSquare: () => {},\n  onMouseOverSquare: () => {},\n  onPieceClick: () => {},\n  onPieceDragBegin: () => {},\n  onPieceDragEnd: () => {},\n  onPieceDrop: () => true,\n  onSquareClick: () => {},\n  onSquareRightClick: () => {},\n  position: 'start',\n  showBoardNotation: true,\n  // showSparePieces: false,\n  snapToCursor: true\n};\n\nconst startPositionObject = {\n  a8: 'bR',\n  b8: 'bN',\n  c8: 'bB',\n  d8: 'bQ',\n  e8: 'bK',\n  f8: 'bB',\n  g8: 'bN',\n  h8: 'bR',\n  a7: 'bP',\n  b7: 'bP',\n  c7: 'bP',\n  d7: 'bP',\n  e7: 'bP',\n  f7: 'bP',\n  g7: 'bP',\n  h7: 'bP',\n  a2: 'wP',\n  b2: 'wP',\n  c2: 'wP',\n  d2: 'wP',\n  e2: 'wP',\n  f2: 'wP',\n  g2: 'wP',\n  h2: 'wP',\n  a1: 'wR',\n  b1: 'wN',\n  c1: 'wB',\n  d1: 'wQ',\n  e1: 'wK',\n  f1: 'wB',\n  g1: 'wN',\n  h1: 'wR'\n};\nconst whiteColumnValues = {\n  a: 0,\n  b: 1,\n  c: 2,\n  d: 3,\n  e: 4,\n  f: 5,\n  g: 6,\n  h: 7\n};\nconst blackColumnValues = {\n  a: 7,\n  b: 6,\n  c: 5,\n  d: 4,\n  e: 3,\n  f: 2,\n  g: 1,\n  h: 0\n};\nconst whiteRows = [7, 6, 5, 4, 3, 2, 1, 0];\nconst blackRows = [0, 1, 2, 3, 4, 5, 6, 7];\nconst getRelativeCoords = (boardOrientation, boardWidth, square) => {\n  const squareWidth = boardWidth / 8;\n  const columns = boardOrientation === 'white' ? whiteColumnValues : blackColumnValues;\n  const rows = boardOrientation === 'white' ? whiteRows : blackRows;\n  const x = columns[square[0]] * squareWidth + squareWidth / 2;\n  const y = rows[square[1] - 1] * squareWidth + squareWidth / 2;\n  return {\n    x,\n    y\n  };\n};\nconst isDifferentFromStart = newPosition => {\n  let isDifferent = false;\n  Object.keys(startPositionObject).forEach(square => {\n    if (newPosition[square] !== startPositionObject[square]) isDifferent = true;\n  });\n  Object.keys(newPosition).forEach(square => {\n    if (startPositionObject[square] !== newPosition[square]) isDifferent = true;\n  });\n  return isDifferent;\n};\nconst getPositionDifferences = (currentPosition, newPosition) => {\n  const difference = {\n    removed: {},\n    added: {}\n  }; // removed from current\n\n  Object.keys(currentPosition).forEach(square => {\n    if (newPosition[square] !== currentPosition[square]) difference.removed[square] = currentPosition[square];\n  }); // added from new\n\n  Object.keys(newPosition).forEach(square => {\n    if (currentPosition[square] !== newPosition[square]) difference.added[square] = newPosition[square];\n  });\n  return difference;\n};\n\nfunction isString(s) {\n  return typeof s === 'string';\n}\n\nfunction convertPositionToObject(position) {\n  if (position === 'start') return fenToObj('rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR');\n  if (validFen(position)) return fenToObj(position);\n  if (validPositionObject(position)) return position;\n  return {};\n}\nfunction fenToObj(fen) {\n  if (!validFen(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, '');\n  const rows = fen.split('/');\n  const position = {};\n  let currentRow = 8;\n\n  for (let i = 0; i < 8; i++) {\n    const row = rows[i].split('');\n    let colIdx = 0; // loop through each character in the FEN section\n\n    for (let j = 0; j < row.length; j++) {\n      // number / empty squares\n      if (row[j].search(/[1-8]/) !== -1) {\n        const numEmptySquares = parseInt(row[j], 10);\n        colIdx = colIdx + numEmptySquares;\n      } else {\n        // piece\n        const square = COLUMNS[colIdx] + currentRow;\n        position[square] = fenToPieceCode(row[j]);\n        colIdx = colIdx + 1;\n      }\n    }\n\n    currentRow = currentRow - 1;\n  }\n\n  return position;\n}\n\nfunction expandFenEmptySquares(fen) {\n  return fen.replace(/8/g, '11111111').replace(/7/g, '1111111').replace(/6/g, '111111').replace(/5/g, '11111').replace(/4/g, '1111').replace(/3/g, '111').replace(/2/g, '11');\n}\n\nfunction validFen(fen) {\n  if (!isString(fen)) return false; // cut off any move, castling, etc info from the end. we're only interested in position information\n\n  fen = fen.replace(/ .+$/, ''); // expand the empty square numbers to just 1s\n\n  fen = expandFenEmptySquares(fen); // FEN should be 8 sections separated by slashes\n\n  const chunks = fen.split('/');\n  if (chunks.length !== 8) return false; // check each section\n\n  for (let i = 0; i < 8; i++) {\n    if (chunks[i].length !== 8 || chunks[i].search(/[^kqrnbpKQRNBP1]/) !== -1) {\n      return false;\n    }\n  }\n\n  return true;\n} // convert FEN piece code to bP, wK, etc\n\nfunction fenToPieceCode(piece) {\n  // black piece\n  if (piece.toLowerCase() === piece) {\n    return 'b' + piece.toUpperCase();\n  } // white piece\n\n\n  return 'w' + piece.toUpperCase();\n}\n\nfunction validSquare(square) {\n  return isString(square) && square.search(/^[a-h][1-8]$/) !== -1;\n}\n\nfunction validPieceCode(code) {\n  return isString(code) && code.search(/^[bw][KQRNBP]$/) !== -1;\n}\n\nfunction validPositionObject(pos) {\n  if (pos === null || typeof pos !== 'object') return false;\n\n  for (const i in pos) {\n    if (!pos[i]) continue;\n\n    if (!validSquare(i) || !validPieceCode(pos[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nconst defaultPieces = {\n  wP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  wR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#ffffff',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14\",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 34,14 L 31,17 L 14,17 L 11,14\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,17 L 31,29.5 L 14,29.5 L 14,17\",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  wB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  wQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#ffffff',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,33.5 C 18,32.5 27,32.5 33,33.5\",\n        style: {\n          fill: 'none'\n        }\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      })]\n    })\n  }),\n  wK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#000000'\n        }\n      })]\n    })\n  }),\n  bP: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsx(\"path\", {\n      d: \"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z\",\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'nonzero',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'miter',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      }\n    })\n  }),\n  bR: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: '#000000',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z \",\n        style: {\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z \",\n        style: {\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12,35.5 L 33,35.5 L 33,35.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 13,31.5 L 32,31.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,29.5 L 31,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 14,16.5 L 31,16.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,14 L 34,14\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeWidth: '1',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bN: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z\",\n        transform: \"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)\",\n        style: {\n          fill: '#ffffff',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z \",\n        style: {\n          fill: '#ffffff',\n          stroke: 'none'\n        }\n      })]\n    })\n  }),\n  bB: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        opacity: '1',\n        fill: 'none',\n        fillRule: 'evenodd',\n        fillOpacity: '1',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: '#000000',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z\"\n        })]\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff',\n          strokeLinejoin: 'miter'\n        }\n      })]\n    })\n  }),\n  bQ: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: '#000000',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z\",\n        style: {\n          strokeLinecap: 'butt',\n          fill: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11.5,30 C 15,29 30,29 33.5,30\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"m 12,33.5 c 6,-1 15,-1 21,0\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"6\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"14\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"22.5\",\n        cy: \"8\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"31\",\n        cy: \"9\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"circle\", {\n        cx: \"39\",\n        cy: \"12\",\n        r: \"2\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 11,38.5 A 35,35 1 0 0 34,38.5\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinecap: 'butt'\n        }\n      }), /*#__PURE__*/jsxs(\"g\", {\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        },\n        children: [/*#__PURE__*/jsx(\"path\", {\n          d: \"M 11,29 A 35,35 1 0 1 34,29\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 12.5,31.5 L 32.5,31.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5\"\n        }), /*#__PURE__*/jsx(\"path\", {\n          d: \"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5\"\n        })]\n      })]\n    })\n  }),\n  bK: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    width: \"45\",\n    height: \"45\",\n    children: /*#__PURE__*/jsxs(\"g\", {\n      style: {\n        fill: 'none',\n        fillOpacity: '1',\n        fillRule: 'evenodd',\n        stroke: '#000000',\n        strokeWidth: '1.5',\n        strokeLinecap: 'round',\n        strokeLinejoin: 'round',\n        strokeMiterlimit: '4',\n        strokeDasharray: 'none',\n        strokeOpacity: '1'\n      },\n      children: [/*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,11.63 L 22.5,6\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        },\n        id: \"path6570\"\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25\",\n        style: {\n          fill: '#000000',\n          fillOpacity: '1',\n          strokeLinecap: 'butt',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37\",\n        style: {\n          fill: '#000000',\n          stroke: '#000000'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 20,8 L 25,8\",\n        style: {\n          fill: 'none',\n          stroke: '#000000',\n          strokeLinejoin: 'miter'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      }), /*#__PURE__*/jsx(\"path\", {\n        d: \"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37\",\n        style: {\n          fill: 'none',\n          stroke: '#ffffff'\n        }\n      })]\n    })\n  })\n};\n\nconst ChessboardContext = /*#__PURE__*/React.createContext();\nconst useChessboard = () => useContext(ChessboardContext);\nconst ChessboardProvider = /*#__PURE__*/forwardRef(({\n  animationDuration,\n  areArrowsAllowed,\n  arePiecesDraggable,\n  arePremovesAllowed,\n  boardOrientation,\n  boardWidth,\n  clearPremovesOnRightClick,\n  customArrows,\n  customArrowColor,\n  customBoardStyle,\n  customDarkSquareStyle,\n  customDropSquareStyle,\n  customLightSquareStyle,\n  customPieces,\n  customPremoveDarkSquareStyle,\n  customPremoveLightSquareStyle,\n  customSquareStyles,\n  dropOffBoardAction,\n  id,\n  isDraggablePiece,\n  getPositionObject,\n  onArrowsChange,\n  onDragOverSquare,\n  onMouseOutSquare,\n  onMouseOverSquare,\n  onPieceClick,\n  onPieceDragBegin,\n  onPieceDragEnd,\n  onPieceDrop,\n  onSquareClick,\n  onSquareRightClick,\n  position,\n  showBoardNotation,\n  showSparePieces,\n  snapToCursor,\n  children\n}, ref) => {\n  // position stored and displayed on board\n  const [currentPosition, setCurrentPosition] = useState(convertPositionToObject(position)); // calculated differences between current and incoming positions\n\n  const [positionDifferences, setPositionDifferences] = useState({}); // colour of last piece moved to determine if premoving\n\n  const [lastPieceColour, setLastPieceColour] = useState(undefined); // current premoves\n\n  const [premoves, setPremoves] = useState([]); // ref used to access current value during timeouts (closures)\n\n  const premovesRef = useRef(premoves); // current right mouse down square\n\n  const [currentRightClickDown, setCurrentRightClickDown] = useState(); // current arrows\n\n  const [arrows, setArrows] = useState([]); // chess pieces/styling\n\n  const [chessPieces, setChessPieces] = useState({ ...defaultPieces,\n    ...customPieces\n  }); // whether the last move was a manual drop or not\n\n  const [manualDrop, setManualDrop] = useState(false); // the most recent timeout whilst waiting for animation to complete\n\n  const [previousTimeout, setPreviousTimeout] = useState(undefined); // if currently waiting for an animation to finish\n\n  const [waitingForAnimation, setWaitingForAnimation] = useState(false); // open clearPremoves() to allow user to call on undo/reset/whenever\n\n  useImperativeHandle(ref, () => ({\n    clearPremoves(clearLastPieceColour = true) {\n      clearPremoves(clearLastPieceColour);\n    }\n\n  })); // handle custom pieces change\n\n  useEffect(() => {\n    setChessPieces({ ...defaultPieces,\n      ...customPieces\n    });\n  }, [customPieces]); // handle external position change\n\n  useEffect(() => {\n    var _Object$keys, _Object$entries, _Object$entries$;\n\n    const newPosition = convertPositionToObject(position);\n    const differences = getPositionDifferences(currentPosition, newPosition);\n    const newPieceColour = ((_Object$keys = Object.keys(differences.added)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.length) <= 2 ? (_Object$entries = Object.entries(differences.added)) === null || _Object$entries === void 0 ? void 0 : (_Object$entries$ = _Object$entries[0]) === null || _Object$entries$ === void 0 ? void 0 : _Object$entries$[1][0] : undefined; // external move has come in before animation is over\n    // cancel animation and immediately update position\n\n    if (waitingForAnimation) {\n      setCurrentPosition(newPosition);\n      setWaitingForAnimation(false);\n      arePremovesAllowed && attemptPremove(newPieceColour);\n\n      if (previousTimeout) {\n        clearTimeout(previousTimeout);\n      }\n    } else {\n      // move was made using drag and drop\n      if (manualDrop) {\n        setCurrentPosition(newPosition);\n        setWaitingForAnimation(false);\n        arePremovesAllowed && attemptPremove(newPieceColour);\n      } else {\n        // move was made by external position change\n        // if position === start then don't override newPieceColour\n        // needs isDifferentFromStart in scenario where premoves have been cleared upon board reset but first move is made by computer, the last move colour would need to be updated\n        if (isDifferentFromStart(newPosition) && lastPieceColour !== undefined) {\n          setLastPieceColour(newPieceColour);\n        } else {\n          // position === start, likely a board reset\n          setLastPieceColour(undefined);\n        }\n\n        setPositionDifferences(differences); // animate external move\n\n        setWaitingForAnimation(true);\n        const newTimeout = setTimeout(() => {\n          setCurrentPosition(newPosition);\n          setWaitingForAnimation(false);\n          arePremovesAllowed && attemptPremove(newPieceColour);\n        }, animationDuration);\n        setPreviousTimeout(newTimeout);\n      }\n    } // reset manual drop, ready for next move to be made by user or external\n\n\n    setManualDrop(false); // inform latest position information\n\n    getPositionObject(newPosition); // clear arrows\n\n    clearArrows(); // clear timeout on unmount\n\n    return () => {\n      clearTimeout(previousTimeout);\n    };\n  }, [position]); // handle external arrows change\n\n  useEffect(() => {\n    setArrows(customArrows);\n  }, [customArrows]); // callback when new arrows are set\n\n  useEffect(() => {\n    onArrowsChange(arrows);\n  }, [arrows]); // handle drop position change\n\n  function handleSetPosition(sourceSq, targetSq, piece) {\n    // if dropped back down, don't do anything\n    if (sourceSq === targetSq) {\n      return;\n    }\n\n    clearArrows(); // if second move is made for same colour, or there are still premoves queued, then this move needs to be added to premove queue instead of played\n    // premoves length check for colour is added in because white could make 3 premoves, and then black responds to the first move (changing the last piece colour) and then white pre-moves again\n\n    if (arePremovesAllowed && waitingForAnimation || arePremovesAllowed && (lastPieceColour === piece[0] || premovesRef.current.filter(p => p.piece[0] === piece[0]).length > 0)) {\n      const oldPremoves = [...premovesRef.current];\n      oldPremoves.push({\n        sourceSq,\n        targetSq,\n        piece\n      });\n      premovesRef.current = oldPremoves;\n      setPremoves([...oldPremoves]);\n      return;\n    } // if transitioning, don't allow new drop\n\n\n    if (!arePremovesAllowed && waitingForAnimation) return;\n    const newOnDropPosition = { ...currentPosition\n    };\n    setManualDrop(true);\n    setLastPieceColour(piece[0]); // if onPieceDrop function provided, execute it, position must be updated externally and captured by useEffect above for this move to show on board\n\n    if (onPieceDrop.length) {\n      const isValidMove = onPieceDrop(sourceSq, targetSq, piece);\n      if (!isValidMove) clearPremoves();\n    } else {\n      // delete if dropping off board\n      if (dropOffBoardAction === 'trash' && !targetSq) {\n        delete newOnDropPosition[sourceSq];\n      } // delete source piece if not dropping from spare piece\n\n\n      if (sourceSq !== 'spare') {\n        delete newOnDropPosition[sourceSq];\n      } // add piece in new position\n\n\n      newOnDropPosition[targetSq] = piece;\n      setCurrentPosition(newOnDropPosition);\n    } // inform latest position information\n\n\n    getPositionObject(newOnDropPosition);\n  }\n\n  function attemptPremove(newPieceColour) {\n    if (premovesRef.current.length === 0) return; // get current value of premove as this is called in a timeout so value may have changed since timeout was set\n\n    const premove = premovesRef.current[0]; // if premove is a differing colour to last move made, then this move can be made\n\n    if (premove.piece[0] !== undefined && premove.piece[0] !== newPieceColour && onPieceDrop.length) {\n      setLastPieceColour(premove.piece[0]);\n      setManualDrop(true); // pre-move doesn't need animation\n\n      const isValidMove = onPieceDrop(premove.sourceSq, premove.targetSq, premove.piece); // premove was successful and can be removed from queue\n\n      if (isValidMove) {\n        const oldPremoves = [...premovesRef.current];\n        oldPremoves.shift();\n        premovesRef.current = oldPremoves;\n        setPremoves([...oldPremoves]);\n      } else {\n        // premove wasn't successful, clear premove queue\n        clearPremoves();\n      }\n    }\n  }\n\n  function clearPremoves(clearLastPieceColour = true) {\n    // don't clear when right clicking to clear, otherwise you won't be able to premove again before next go\n    if (clearLastPieceColour) setLastPieceColour(undefined);\n    premovesRef.current = [];\n    setPremoves([]);\n  }\n\n  function onRightClickDown(square) {\n    setCurrentRightClickDown(square);\n  }\n\n  function onRightClickUp(square) {\n    if (!areArrowsAllowed) return;\n\n    if (currentRightClickDown) {\n      // same square, don't draw an arrow, but do clear premoves and run onSquareRightClick\n      if (currentRightClickDown === square) {\n        setCurrentRightClickDown(null);\n        clearPremovesOnRightClick && clearPremoves(false);\n        onSquareRightClick(square);\n        return;\n      } // if arrow already exists then it needs to be removed\n\n\n      for (const i in arrows) {\n        if (arrows[i][0] === currentRightClickDown && arrows[i][1] === square) {\n          setArrows(oldArrows => {\n            const newArrows = [...oldArrows];\n            newArrows.splice(i, 1);\n            return newArrows;\n          });\n          return;\n        }\n      } // different square, draw an arrow\n\n\n      setArrows(oldArrows => [...oldArrows, [currentRightClickDown, square]]);\n    } else setCurrentRightClickDown(null);\n  }\n\n  function clearCurrentRightClickDown() {\n    setCurrentRightClickDown(null);\n  }\n\n  function clearArrows() {\n    setArrows([]);\n  }\n\n  return /*#__PURE__*/jsx(ChessboardContext.Provider, {\n    value: {\n      animationDuration,\n      arePiecesDraggable,\n      arePremovesAllowed,\n      boardOrientation,\n      boardWidth,\n      customArrowColor,\n      customBoardStyle,\n      customDarkSquareStyle,\n      customDropSquareStyle,\n      customLightSquareStyle,\n      customPremoveDarkSquareStyle,\n      customPremoveLightSquareStyle,\n      customSquareStyles,\n      dropOffBoardAction,\n      id,\n      isDraggablePiece,\n      getPositionObject,\n      onDragOverSquare,\n      onMouseOutSquare,\n      onMouseOverSquare,\n      onPieceClick,\n      onPieceDragBegin,\n      onPieceDragEnd,\n      onPieceDrop,\n      onSquareClick,\n      onSquareRightClick,\n      showBoardNotation,\n      showSparePieces,\n      snapToCursor,\n      arrows,\n      chessPieces,\n      clearArrows,\n      clearCurrentRightClickDown,\n      clearPremoves,\n      currentPosition,\n      handleSetPosition,\n      lastPieceColour,\n      manualDrop,\n      onRightClickDown,\n      onRightClickUp,\n      positionDifferences,\n      premoves,\n      setChessPieces,\n      setCurrentPosition,\n      setManualDrop,\n      waitingForAnimation\n    },\n    children: children\n  });\n});\n\nfunction Notation({\n  row,\n  col\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customDarkSquareStyle,\n    customLightSquareStyle\n  } = useChessboard();\n  const whiteColor = customLightSquareStyle.backgroundColor;\n  const blackColor = customDarkSquareStyle.backgroundColor;\n  const isRow = col === 0;\n  const isColumn = row === 7;\n  const isBottomLeftSquare = isRow && isColumn;\n\n  function getRow() {\n    return boardOrientation === 'white' ? 8 - row : row + 1;\n  }\n\n  function getColumn() {\n    return boardOrientation === 'black' ? COLUMNS[7 - col] : COLUMNS[col];\n  }\n\n  function renderBottomLeft() {\n    return /*#__PURE__*/jsxs(Fragment, {\n      children: [/*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...numericStyle(boardWidth)\n        },\n        children: getRow()\n      }), /*#__PURE__*/jsx(\"div\", {\n        style: { ...notationStyle,\n          ...{\n            color: whiteColor\n          },\n          ...alphaStyle(boardWidth)\n        },\n        children: getColumn()\n      })]\n    });\n  }\n\n  function renderLetters() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...{\n          color: col % 2 !== 0 ? blackColor : whiteColor\n        },\n        ...alphaStyle(boardWidth)\n      },\n      children: getColumn()\n    });\n  }\n\n  function renderNumbers() {\n    return /*#__PURE__*/jsx(\"div\", {\n      style: { ...notationStyle,\n        ...(boardOrientation === 'black' ? {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        } : {\n          color: row % 2 === 0 ? blackColor : whiteColor\n        }),\n        ...numericStyle(boardWidth)\n      },\n      children: getRow()\n    });\n  }\n\n  if (isBottomLeftSquare) {\n    return renderBottomLeft();\n  }\n\n  if (isColumn) {\n    return renderLetters();\n  }\n\n  if (isRow) {\n    return renderNumbers();\n  }\n\n  return null;\n}\n\nconst alphaStyle = width => ({\n  alignSelf: 'flex-end',\n  paddingLeft: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst numericStyle = width => ({\n  alignSelf: 'flex-start',\n  paddingRight: width / 8 - width / 48,\n  fontSize: width / 48\n});\n\nconst notationStyle = {\n  zIndex: 3,\n  position: 'absolute'\n};\n\nfunction Piece({\n  piece,\n  square,\n  squares,\n  isPremovedPiece = false\n}) {\n  const {\n    animationDuration,\n    arePiecesDraggable,\n    arePremovesAllowed,\n    boardWidth,\n    id,\n    isDraggablePiece,\n    onPieceClick,\n    onPieceDragBegin,\n    onPieceDragEnd,\n    premoves,\n    chessPieces,\n    dropTarget,\n    positionDifferences,\n    waitingForAnimation,\n    currentPosition\n  } = useChessboard();\n  const [pieceStyle, setPieceStyle] = useState({\n    opacity: 1,\n    zIndex: 5,\n    touchAction: 'none',\n    cursor: arePiecesDraggable && isDraggablePiece({\n      piece,\n      sourceSquare: square\n    }) ? '-webkit-grab' : 'default'\n  });\n  const [{\n    canDrag,\n    isDragging\n  }, drag, dragPreview] = useDrag(() => ({\n    type: 'piece',\n    item: () => {\n      onPieceDragBegin(piece, square);\n      return {\n        piece,\n        square,\n        id\n      };\n    },\n    end: () => onPieceDragEnd(piece, square),\n    collect: monitor => ({\n      canDrag: isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }),\n      isDragging: !!monitor.isDragging()\n    })\n  }), [piece, square, currentPosition, id]); // hide the default preview\n\n  dragPreview(getEmptyImage(), {\n    captureDraggingState: true\n  }); // hide piece on drag\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      opacity: isDragging ? 0 : 1\n    }));\n  }, [isDragging]); // hide piece on matching premoves\n\n  useEffect(() => {\n    // if premoves aren't allowed, don't waste time on calculations\n    if (!arePremovesAllowed) return;\n    let hidePiece = false; // side effect: if piece moves into pre-moved square, its hidden\n    // if there are any premove targets on this square, hide the piece underneath\n\n    if (!isPremovedPiece && premoves.find(p => p.targetSq === square)) hidePiece = true; // if sourceSq === sq and piece matches then this piece has been pre-moved elsewhere?\n\n    if (premoves.find(p => p.sourceSq === square && p.piece === piece)) hidePiece = true; // TODO: If a premoved piece returns to a premoved square, it will hide (e1, e2, e1)\n\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      display: hidePiece ? 'none' : 'unset'\n    }));\n  }, [currentPosition, premoves]); // new move has come in\n  // if waiting for animation, then animation has started and we can perform animation\n  // we need to head towards where we need to go, we are the source, we are heading towards the target\n\n  useEffect(() => {\n    var _positionDifferences$;\n\n    const removedPiece = (_positionDifferences$ = positionDifferences.removed) === null || _positionDifferences$ === void 0 ? void 0 : _positionDifferences$[square]; // return as null and not loaded yet\n\n    if (!positionDifferences.added) return; // check if piece matches or if removed piece was a pawn and new square is on 1st or 8th rank (promotion)\n\n    const newSquare = Object.entries(positionDifferences.added).find(([s, p]) => p === removedPiece || (removedPiece === null || removedPiece === void 0 ? void 0 : removedPiece[1]) === 'P' && (s[1] === '1' || s[1] === '8')); // we can perform animation if our square was in removed, AND the matching piece is in added AND this isn't a premoved piece\n\n    if (waitingForAnimation && removedPiece && newSquare && !isPremovedPiece) {\n      const {\n        sourceSq,\n        targetSq\n      } = getSquareCoordinates(square, newSquare[0]);\n\n      if (sourceSq && targetSq) {\n        setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n          transform: `translate(${targetSq.x - sourceSq.x}px, ${targetSq.y - sourceSq.y}px)`,\n          transition: `transform ${animationDuration}ms`,\n          zIndex: 6\n        }));\n      }\n    }\n  }, [positionDifferences]); // translate to their own positions (repaint on undo)\n\n  useEffect(() => {\n    const {\n      sourceSq\n    } = getSingleSquareCoordinates(square);\n\n    if (sourceSq) {\n      setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n        transform: `translate(${0}px, ${0}px)`,\n        transition: `transform ${0}ms`\n      }));\n    }\n  }, [currentPosition]); // update is piece draggable\n\n  useEffect(() => {\n    setPieceStyle(oldPieceStyle => ({ ...oldPieceStyle,\n      cursor: arePiecesDraggable && isDraggablePiece({\n        piece,\n        sourceSquare: square\n      }) ? '-webkit-grab' : 'default'\n    }));\n  }, [square, currentPosition, arePiecesDraggable]);\n\n  function getSingleSquareCoordinates(square) {\n    return {\n      sourceSq: squares[square]\n    };\n  }\n\n  function getSquareCoordinates(sourceSquare, targetSquare) {\n    return {\n      sourceSq: squares[sourceSquare],\n      targetSq: squares[targetSquare]\n    };\n  }\n\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: arePiecesDraggable ? canDrag ? drag : null : null,\n    onClick: () => onPieceClick(piece),\n    style: pieceStyle,\n    children: typeof chessPieces[piece] === 'function' ? chessPieces[piece]({\n      squareWidth: boardWidth / 8,\n      isDragging,\n      droppedPiece: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.piece,\n      targetSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.target,\n      sourceSquare: dropTarget === null || dropTarget === void 0 ? void 0 : dropTarget.source\n    }) : /*#__PURE__*/jsx(\"svg\", {\n      viewBox: '1 1 43 43',\n      width: boardWidth / 8,\n      height: boardWidth / 8,\n      children: /*#__PURE__*/jsx(\"g\", {\n        children: chessPieces[piece]\n      })\n    })\n  });\n}\n\nfunction Square({\n  square,\n  squareColor,\n  setSquares,\n  squareHasPremove,\n  children\n}) {\n  const squareRef = useRef();\n  const {\n    boardWidth,\n    boardOrientation,\n    clearArrows,\n    currentPosition,\n    customBoardStyle,\n    customDarkSquareStyle,\n    customDropSquareStyle,\n    customLightSquareStyle,\n    customPremoveDarkSquareStyle,\n    customPremoveLightSquareStyle,\n    customSquareStyles,\n    handleSetPosition,\n    lastPieceColour,\n    onDragOverSquare,\n    onMouseOutSquare,\n    onMouseOverSquare,\n    onPieceDrop,\n    onRightClickDown,\n    onRightClickUp,\n    onSquareClick,\n    waitingForAnimation\n  } = useChessboard();\n  const [{\n    isOver\n  }, drop] = useDrop(() => ({\n    accept: 'piece',\n    drop: item => handleSetPosition(item.square, square, item.piece),\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }), [square, currentPosition, onPieceDrop, waitingForAnimation, lastPieceColour]);\n  useEffect(() => {\n    const {\n      x,\n      y\n    } = squareRef.current.getBoundingClientRect();\n    setSquares(oldSquares => ({ ...oldSquares,\n      [square]: {\n        x,\n        y\n      }\n    }));\n  }, [boardWidth, boardOrientation]);\n  const defaultSquareStyle = { ...borderRadius(customBoardStyle, square, boardOrientation),\n    ...(squareColor === 'black' ? customDarkSquareStyle : customLightSquareStyle),\n    ...(squareHasPremove && (squareColor === 'black' ? customPremoveDarkSquareStyle : customPremoveLightSquareStyle)),\n    ...(isOver && customDropSquareStyle)\n  };\n  return /*#__PURE__*/jsx(\"div\", {\n    ref: drop,\n    style: defaultSquareStyle,\n    \"data-square-color\": squareColor,\n    \"data-square\": square,\n    onMouseOver: e => {\n      // noop if moving from child of square into square.\n      if (e.relatedTarget && e.currentTarget.contains(e.relatedTarget)) return;\n      onMouseOverSquare(square);\n    },\n    onMouseOut: e => {\n      // noop if moving from square into a child of square.\n      if (e.relatedTarget && e.currentTarget.contains(e.relatedTarget)) return;\n      onMouseOutSquare(square);\n    },\n    onMouseDown: e => {\n      if (e.button === 2) onRightClickDown(square);\n    },\n    onMouseUp: e => {\n      if (e.button === 2) onRightClickUp(square);\n    },\n    onDragEnter: () => onDragOverSquare(square),\n    onClick: () => {\n      onSquareClick(square);\n      clearArrows();\n    },\n    onContextMenu: e => {\n      e.preventDefault();\n    },\n    children: /*#__PURE__*/jsx(\"div\", {\n      ref: squareRef,\n      style: { ...size(boardWidth),\n        ...center,\n        ...(!squareHasPremove && (customSquareStyles === null || customSquareStyles === void 0 ? void 0 : customSquareStyles[square]))\n      },\n      children: children\n    })\n  });\n}\nconst center = {\n  display: 'flex',\n  justifyContent: 'center'\n};\n\nconst size = width => ({\n  width: width / 8,\n  height: width / 8\n});\n\nconst borderRadius = (customBoardStyle, square, boardOrientation) => {\n  if (!customBoardStyle.borderRadius) return {};\n\n  if (square === 'a1') {\n    return boardOrientation === 'white' ? {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'a8') {\n    return boardOrientation === 'white' ? {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h1') {\n    return boardOrientation === 'white' ? {\n      borderBottomRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderTopLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  if (square === 'h8') {\n    return boardOrientation === 'white' ? {\n      borderTopRightRadius: customBoardStyle.borderRadius\n    } : {\n      borderBottomLeftRadius: customBoardStyle.borderRadius\n    };\n  }\n\n  return {};\n};\n\nfunction Squares({\n  children\n}) {\n  const {\n    boardOrientation,\n    boardWidth,\n    customBoardStyle,\n    id\n  } = useChessboard();\n  return /*#__PURE__*/jsx(\"div\", {\n    \"data-boardid\": id,\n    style: { ...boardStyles(boardWidth),\n      ...customBoardStyle\n    },\n    children: [...Array(8)].map((_, r) => {\n      return /*#__PURE__*/jsx(\"div\", {\n        style: rowStyles(boardWidth),\n        children: [...Array(8)].map((_, c) => {\n          // a1, a2 ...\n          const square = boardOrientation === 'black' ? COLUMNS[7 - c] + (r + 1) : COLUMNS[c] + (8 - r);\n          const squareColor = c % 2 === r % 2 ? 'white' : 'black';\n          return children({\n            square,\n            squareColor,\n            col: c,\n            row: r\n          });\n        })\n      }, r.toString());\n    })\n  });\n}\n\nconst boardStyles = width => ({\n  cursor: 'default',\n  height: width,\n  width\n});\n\nconst rowStyles = width => ({\n  display: 'flex',\n  flexWrap: 'nowrap',\n  width\n});\n\nconst errorImage = {\n  whiteKing: /*#__PURE__*/jsx(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    style: {\n      shapeRendering: 'geometricPrecision',\n      textRendering: 'geometricPrecision',\n      imageRendering: 'optimizeQuality'\n    },\n    viewBox: \"0 0 4210 12970\",\n    x: \"0px\",\n    y: \"0px\",\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    width: \"250\",\n    height: \"250\",\n    children: /*#__PURE__*/jsx(\"g\", {\n      children: /*#__PURE__*/jsx(\"path\", {\n        style: {\n          fill: 'black',\n          fillRule: 'nonzero'\n        },\n        d: \"M2105 0c169,0 286,160 249,315l200 0c-172,266 -231,479 -256,792 315,-24 530,-86 792,-255l0 897c-265,-171 -479,-231 -792,-256 18,234 75,495 185,682l339 0c233,0 369,269 225,456l545 0 -595 1916c130,94 158,275 59,402 465,0 416,568 51,568l-334 0 465 2867 332 0c250,0 381,306 199,485 162,63 273,220 273,399l0 633 168 0 0 475c-1403,0 -2807,0 -4210,0l0 -475 167 0 0 -633c0,-179 112,-336 274,-399 -181,-178 -52,-485 199,-485l332 0 465 -2867 -335 0c-353,0 -418,-568 51,-568 -98,-127 -70,-308 59,-402l-594 -1916c181,0 363,0 545,0 -144,-187 -9,-456 225,-456l339 0c110,-187 167,-448 185,-682 -315,25 -530,87 -793,256l0 -897c266,171 480,231 793,255 -25,-315 -87,-529 -256,-792l199 0c-36,-155 81,-315 250,-315zm-1994 10012l0 253 3988 0 0 -253c-1330,0 -2659,0 -3988,0zm484 -1060c-174,0 -316,142 -316,316l0 633 3652 0 0 -633c0,-174 -142,-316 -316,-316 -1007,0 -2013,0 -3020,0zm45 -457c-230,0 -225,345 0,345l2930 0c230,0 225,-345 0,-345 -977,0 -1953,0 -2930,0zm2020 -2978l-1111 0 -465 2867 2041 0 -465 -2867zm-1558 -456c-229,0 -224,345 0,345 669,0 1337,0 2005,0 230,0 225,-345 0,-345 -668,0 -1336,0 -2005,0zm1730 -457l-1454 0c-229,0 -224,345 0,345l1454 0c229,0 224,-345 0,-345zm-2064 -1862l544 1751c529,0 1057,0 1586,0l544 -1751c-892,0 -1783,0 -2674,0zm1085 -567l504 0c-126,-247 -163,-526 -177,-800 273,15 553,52 800,177l0 -504c-247,126 -527,163 -800,177 14,-273 51,-552 177,-799 -168,0 -336,0 -504,0 125,247 162,526 177,799 -274,-14 -553,-51 -800,-177l0 504c247,-125 527,-162 800,-177 -15,274 -52,553 -177,800zm969 111l-1434 0c-230,0 -225,345 0,345l1434 0c230,0 225,-345 0,-345zm-717 -2175c-105,0 -175,109 -133,204l266 0c42,-96 -30,-205 -133,-204z\"\n      })\n    })\n  })\n};\n\nfunction ErrorBoundary({\n  children\n}) {\n  try {\n    return children;\n  } catch (error) {\n    return /*#__PURE__*/jsx(WhiteKing, {\n      showError: true\n    });\n  }\n}\nfunction WhiteKing({\n  showError = false\n}) {\n  return /*#__PURE__*/jsxs(\"div\", {\n    style: container,\n    children: [/*#__PURE__*/jsx(\"div\", {\n      style: whiteKingStyle,\n      children: errorImage.whiteKing\n    }), showError && /*#__PURE__*/jsx(\"h1\", {\n      children: \"Something went wrong\"\n    })]\n  });\n}\nconst container = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  flexDirection: 'column'\n};\nconst whiteKingStyle = {\n  width: 250,\n  height: 250,\n  transform: 'rotate(90deg)'\n};\n\nfunction Board() {\n  const boardRef = useRef();\n  const [squares, setSquares] = useState({});\n  const {\n    arrows,\n    boardOrientation,\n    boardWidth,\n    clearCurrentRightClickDown,\n    customArrowColor,\n    showBoardNotation,\n    currentPosition,\n    premoves\n  } = useChessboard();\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (boardRef.current && !boardRef.current.contains(event.target)) {\n        clearCurrentRightClickDown();\n      }\n    }\n\n    document.addEventListener('mouseup', handleClickOutside);\n    return () => {\n      document.removeEventListener('mouseup', handleClickOutside);\n    };\n  }, []);\n  return boardWidth ? /*#__PURE__*/jsxs(\"div\", {\n    ref: boardRef,\n    style: {\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/jsx(Squares, {\n      children: ({\n        square,\n        squareColor,\n        col,\n        row\n      }) => {\n        const squareHasPremove = premoves.find(p => p.sourceSq === square || p.targetSq === square);\n        const squareHasPremoveTarget = premoves.find(p => p.targetSq === square);\n        return /*#__PURE__*/jsxs(Square, {\n          square: square,\n          squareColor: squareColor,\n          setSquares: setSquares,\n          squareHasPremove: squareHasPremove,\n          children: [currentPosition[square] && /*#__PURE__*/jsx(Piece, {\n            piece: currentPosition[square],\n            square: square,\n            squares: squares\n          }), squareHasPremoveTarget && /*#__PURE__*/jsx(Piece, {\n            isPremovedPiece: true,\n            piece: squareHasPremoveTarget.piece,\n            square: square,\n            squares: squares\n          }), showBoardNotation && /*#__PURE__*/jsx(Notation, {\n            row: row,\n            col: col\n          })]\n        }, `${col}${row}`);\n      }\n    }), /*#__PURE__*/jsx(\"svg\", {\n      width: boardWidth,\n      height: boardWidth,\n      style: {\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        pointerEvents: 'none',\n        zIndex: '10'\n      },\n      children: arrows.map(arrow => {\n        const from = getRelativeCoords(boardOrientation, boardWidth, arrow[0]);\n        const to = getRelativeCoords(boardOrientation, boardWidth, arrow[1]);\n        return /*#__PURE__*/jsxs(Fragment$1, {\n          children: [/*#__PURE__*/jsx(\"defs\", {\n            children: /*#__PURE__*/jsx(\"marker\", {\n              id: \"arrowhead\",\n              markerWidth: \"2\",\n              markerHeight: \"2.5\",\n              refX: \"1.25\",\n              refY: \"1.25\",\n              orient: \"auto\",\n              children: /*#__PURE__*/jsx(\"polygon\", {\n                points: \"0 0, 2 1.25, 0 2.5\",\n                style: {\n                  fill: customArrowColor\n                }\n              })\n            })\n          }), /*#__PURE__*/jsx(\"line\", {\n            x1: from.x,\n            y1: from.y,\n            x2: to.x,\n            y2: to.y,\n            style: {\n              stroke: customArrowColor,\n              strokeWidth: boardWidth / 36\n            },\n            markerEnd: \"url(#arrowhead)\"\n          })]\n        }, `${arrow[0]}-${arrow[1]}`);\n      })\n    })]\n  }) : /*#__PURE__*/jsx(WhiteKing, {});\n}\n\nfunction CustomDragLayer() {\n  const {\n    boardWidth,\n    chessPieces,\n    id,\n    snapToCursor\n  } = useChessboard();\n  const collectedProps = useDragLayer(monitor => ({\n    item: monitor.getItem(),\n    clientOffset: monitor.getClientOffset(),\n    sourceClientOffset: monitor.getSourceClientOffset(),\n    isDragging: monitor.isDragging()\n  }));\n  const {\n    isDragging,\n    item,\n    clientOffset,\n    sourceClientOffset\n  } = collectedProps;\n  const layerStyles = {\n    position: 'fixed',\n    pointerEvents: 'none',\n    zIndex: 10,\n    left: 0,\n    top: 0\n  };\n  const getItemStyle = useCallback((clientOffset, sourceClientOffset) => {\n    if (!clientOffset || !sourceClientOffset) return {\n      display: 'none'\n    };\n    let {\n      x,\n      y\n    } = snapToCursor ? clientOffset : sourceClientOffset;\n\n    if (snapToCursor) {\n      const halfSquareWidth = boardWidth / 8 / 2;\n      x -= halfSquareWidth;\n      y -= halfSquareWidth;\n    }\n\n    const transform = `translate(${x}px, ${y}px)`;\n    return {\n      transform,\n      WebkitTransform: transform,\n      touchAction: 'none'\n    };\n  }, [boardWidth, snapToCursor]);\n  return isDragging && item.id === id ? /*#__PURE__*/jsx(\"div\", {\n    style: layerStyles,\n    children: /*#__PURE__*/jsx(\"div\", {\n      style: getItemStyle(clientOffset, sourceClientOffset),\n      children: typeof chessPieces[item.piece] === 'function' ? chessPieces[item.piece]({\n        squareWidth: boardWidth / 8,\n        isDragging: true\n      }) : /*#__PURE__*/jsx(\"svg\", {\n        viewBox: '1 1 43 43',\n        width: boardWidth / 8,\n        height: boardWidth / 8,\n        children: /*#__PURE__*/jsx(\"g\", {\n          children: chessPieces[item.piece]\n        })\n      })\n    })\n  }) : null;\n}\n\nconst Chessboard = /*#__PURE__*/forwardRef((props, ref) => {\n  const [clientWindow, setClientWindow] = useState();\n  const [backendSet, setBackendSet] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const {\n    customDndBackend,\n    customDndBackendOptions,\n    ...otherProps\n  } = props;\n  useEffect(() => {\n    setIsMobile('ontouchstart' in window);\n    setBackendSet(true);\n    setClientWindow(window);\n  }, []);\n  const backend = customDndBackend || (isMobile ? TouchBackend : HTML5Backend);\n  return backendSet && clientWindow && /*#__PURE__*/jsx(ErrorBoundary, {\n    children: /*#__PURE__*/jsx(DndProvider, {\n      backend: backend,\n      context: clientWindow,\n      children: /*#__PURE__*/jsxs(ChessboardProvider, {\n        ref: ref,\n        ...otherProps,\n        children: [/*#__PURE__*/jsx(CustomDragLayer, {}), /*#__PURE__*/jsx(Board, {})]\n      })\n    })\n  });\n});\nChessboard.defaultProps = chessboardDefaultProps;\n\nexport { Chessboard };\n"],
  "mappings": "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",
  "names": ["React", "ReactDebugCurrentFrame", "self", "isValidElement", "jsx", "jsxs", "randomString", "subscribe", "getSourceClientOffset", "HandlerRole", "DndProvider", "manager", "ListenerType", "createBackend", "React", "square", "_", "Fragment$1", "clientOffset", "sourceClientOffset"]
}
